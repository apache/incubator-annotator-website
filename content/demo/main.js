/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/@babel/runtime-corejs3/core-js/instance/reduce.js":
/*!*************************************************************************!*\
  !*** ../node_modules/@babel/runtime-corejs3/core-js/instance/reduce.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! core-js-pure/features/instance/reduce */ \"../node_modules/core-js-pure/features/instance/reduce.js\");\n\n//# sourceURL=webpack:///../node_modules/@babel/runtime-corejs3/core-js/instance/reduce.js?");

/***/ }),

/***/ "../node_modules/@babel/runtime-corejs3/core-js/object/define-property.js":
/*!********************************************************************************!*\
  !*** ../node_modules/@babel/runtime-corejs3/core-js/object/define-property.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! core-js-pure/features/object/define-property */ \"../node_modules/core-js-pure/features/object/define-property.js\");\n\n//# sourceURL=webpack:///../node_modules/@babel/runtime-corejs3/core-js/object/define-property.js?");

/***/ }),

/***/ "../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js":
/*!************************************************************************!*\
  !*** ../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js/object/define-property */ \"../node_modules/@babel/runtime-corejs3/core-js/object/define-property.js\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n\n//# sourceURL=webpack:///../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js?");

/***/ }),

/***/ "../node_modules/@medv/finder/finder.js":
/*!**********************************************!*\
  !*** ../node_modules/@medv/finder/finder.js ***!
  \**********************************************/
/*! exports provided: finder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"finder\", function() { return finder; });\nvar Limit;\n(function (Limit) {\n    Limit[Limit[\"All\"] = 0] = \"All\";\n    Limit[Limit[\"Two\"] = 1] = \"Two\";\n    Limit[Limit[\"One\"] = 2] = \"One\";\n})(Limit || (Limit = {}));\nlet config;\nlet rootDocument;\nfunction finder(input, options) {\n    if (input.nodeType !== Node.ELEMENT_NODE) {\n        throw new Error(`Can't generate CSS selector for non-element node type.`);\n    }\n    if (\"html\" === input.tagName.toLowerCase()) {\n        return \"html\";\n    }\n    const defaults = {\n        root: document.body,\n        idName: (name) => true,\n        className: (name) => true,\n        tagName: (name) => true,\n        attr: (name, value) => false,\n        seedMinLength: 1,\n        optimizedMinLength: 2,\n        threshold: 1000,\n        maxNumberOfTries: 10000,\n    };\n    config = Object.assign(Object.assign({}, defaults), options);\n    rootDocument = findRootDocument(config.root, defaults);\n    let path = bottomUpSearch(input, Limit.All, () => bottomUpSearch(input, Limit.Two, () => bottomUpSearch(input, Limit.One)));\n    if (path) {\n        const optimized = sort(optimize(path, input));\n        if (optimized.length > 0) {\n            path = optimized[0];\n        }\n        return selector(path);\n    }\n    else {\n        throw new Error(`Selector was not found.`);\n    }\n}\nfunction findRootDocument(rootNode, defaults) {\n    if (rootNode.nodeType === Node.DOCUMENT_NODE) {\n        return rootNode;\n    }\n    if (rootNode === defaults.root) {\n        return rootNode.ownerDocument;\n    }\n    return rootNode;\n}\nfunction bottomUpSearch(input, limit, fallback) {\n    let path = null;\n    let stack = [];\n    let current = input;\n    let i = 0;\n    while (current && current !== config.root.parentElement) {\n        let level = maybe(id(current)) ||\n            maybe(...attr(current)) ||\n            maybe(...classNames(current)) ||\n            maybe(tagName(current)) || [any()];\n        const nth = index(current);\n        if (limit === Limit.All) {\n            if (nth) {\n                level = level.concat(level.filter(dispensableNth).map((node) => nthChild(node, nth)));\n            }\n        }\n        else if (limit === Limit.Two) {\n            level = level.slice(0, 1);\n            if (nth) {\n                level = level.concat(level.filter(dispensableNth).map((node) => nthChild(node, nth)));\n            }\n        }\n        else if (limit === Limit.One) {\n            const [node] = (level = level.slice(0, 1));\n            if (nth && dispensableNth(node)) {\n                level = [nthChild(node, nth)];\n            }\n        }\n        for (let node of level) {\n            node.level = i;\n        }\n        stack.push(level);\n        if (stack.length >= config.seedMinLength) {\n            path = findUniquePath(stack, fallback);\n            if (path) {\n                break;\n            }\n        }\n        current = current.parentElement;\n        i++;\n    }\n    if (!path) {\n        path = findUniquePath(stack, fallback);\n    }\n    return path;\n}\nfunction findUniquePath(stack, fallback) {\n    const paths = sort(combinations(stack));\n    if (paths.length > config.threshold) {\n        return fallback ? fallback() : null;\n    }\n    for (let candidate of paths) {\n        if (unique(candidate)) {\n            return candidate;\n        }\n    }\n    return null;\n}\nfunction selector(path) {\n    let node = path[0];\n    let query = node.name;\n    for (let i = 1; i < path.length; i++) {\n        const level = path[i].level || 0;\n        if (node.level === level - 1) {\n            query = `${path[i].name} > ${query}`;\n        }\n        else {\n            query = `${path[i].name} ${query}`;\n        }\n        node = path[i];\n    }\n    return query;\n}\nfunction penalty(path) {\n    return path.map((node) => node.penalty).reduce((acc, i) => acc + i, 0);\n}\nfunction unique(path) {\n    switch (rootDocument.querySelectorAll(selector(path)).length) {\n        case 0:\n            throw new Error(`Can't select any node with this selector: ${selector(path)}`);\n        case 1:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction id(input) {\n    const elementId = input.getAttribute(\"id\");\n    if (elementId && config.idName(elementId)) {\n        return {\n            name: \"#\" + cssesc(elementId, { isIdentifier: true }),\n            penalty: 0,\n        };\n    }\n    return null;\n}\nfunction attr(input) {\n    const attrs = Array.from(input.attributes).filter((attr) => config.attr(attr.name, attr.value));\n    return attrs.map((attr) => ({\n        name: \"[\" +\n            cssesc(attr.name, { isIdentifier: true }) +\n            '=\"' +\n            cssesc(attr.value) +\n            '\"]',\n        penalty: 0.5,\n    }));\n}\nfunction classNames(input) {\n    const names = Array.from(input.classList).filter(config.className);\n    return names.map((name) => ({\n        name: \".\" + cssesc(name, { isIdentifier: true }),\n        penalty: 1,\n    }));\n}\nfunction tagName(input) {\n    const name = input.tagName.toLowerCase();\n    if (config.tagName(name)) {\n        return {\n            name,\n            penalty: 2,\n        };\n    }\n    return null;\n}\nfunction any() {\n    return {\n        name: \"*\",\n        penalty: 3,\n    };\n}\nfunction index(input) {\n    const parent = input.parentNode;\n    if (!parent) {\n        return null;\n    }\n    let child = parent.firstChild;\n    if (!child) {\n        return null;\n    }\n    let i = 0;\n    while (child) {\n        if (child.nodeType === Node.ELEMENT_NODE) {\n            i++;\n        }\n        if (child === input) {\n            break;\n        }\n        child = child.nextSibling;\n    }\n    return i;\n}\nfunction nthChild(node, i) {\n    return {\n        name: node.name + `:nth-child(${i})`,\n        penalty: node.penalty + 1,\n    };\n}\nfunction dispensableNth(node) {\n    return node.name !== \"html\" && !node.name.startsWith(\"#\");\n}\nfunction maybe(...level) {\n    const list = level.filter(notEmpty);\n    if (list.length > 0) {\n        return list;\n    }\n    return null;\n}\nfunction notEmpty(value) {\n    return value !== null && value !== undefined;\n}\nfunction* combinations(stack, path = []) {\n    if (stack.length > 0) {\n        for (let node of stack[0]) {\n            yield* combinations(stack.slice(1, stack.length), path.concat(node));\n        }\n    }\n    else {\n        yield path;\n    }\n}\nfunction sort(paths) {\n    return Array.from(paths).sort((a, b) => penalty(a) - penalty(b));\n}\nfunction* optimize(path, input, scope = {\n    counter: 0,\n    visited: new Map(),\n}) {\n    if (path.length > 2 && path.length > config.optimizedMinLength) {\n        for (let i = 1; i < path.length - 1; i++) {\n            if (scope.counter > config.maxNumberOfTries) {\n                return; // Okay At least I tried!\n            }\n            scope.counter += 1;\n            const newPath = [...path];\n            newPath.splice(i, 1);\n            const newPathKey = selector(newPath);\n            if (scope.visited.has(newPathKey)) {\n                return;\n            }\n            if (unique(newPath) && same(newPath, input)) {\n                yield newPath;\n                scope.visited.set(newPathKey, true);\n                yield* optimize(newPath, input, scope);\n            }\n        }\n    }\n}\nfunction same(path, input) {\n    return rootDocument.querySelector(selector(path)) === input;\n}\nconst regexAnySingleEscape = /[ -,\\.\\/:-@\\[-\\^`\\{-~]/;\nconst regexSingleEscape = /[ -,\\.\\/:-@\\[\\]\\^`\\{-~]/;\nconst regexExcessiveSpaces = /(^|\\\\+)?(\\\\[A-F0-9]{1,6})\\x20(?![a-fA-F0-9\\x20])/g;\nconst defaultOptions = {\n    escapeEverything: false,\n    isIdentifier: false,\n    quotes: \"single\",\n    wrap: false,\n};\nfunction cssesc(string, opt = {}) {\n    const options = Object.assign(Object.assign({}, defaultOptions), opt);\n    if (options.quotes != \"single\" && options.quotes != \"double\") {\n        options.quotes = \"single\";\n    }\n    const quote = options.quotes == \"double\" ? '\"' : \"'\";\n    const isIdentifier = options.isIdentifier;\n    const firstChar = string.charAt(0);\n    let output = \"\";\n    let counter = 0;\n    const length = string.length;\n    while (counter < length) {\n        const character = string.charAt(counter++);\n        let codePoint = character.charCodeAt(0);\n        let value = void 0;\n        // If it’s not a printable ASCII character…\n        if (codePoint < 0x20 || codePoint > 0x7e) {\n            if (codePoint >= 0xd800 && codePoint <= 0xdbff && counter < length) {\n                // It’s a high surrogate, and there is a next character.\n                const extra = string.charCodeAt(counter++);\n                if ((extra & 0xfc00) == 0xdc00) {\n                    // next character is low surrogate\n                    codePoint = ((codePoint & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                }\n                else {\n                    // It’s an unmatched surrogate; only append this code unit, in case\n                    // the next code unit is the high surrogate of a surrogate pair.\n                    counter--;\n                }\n            }\n            value = \"\\\\\" + codePoint.toString(16).toUpperCase() + \" \";\n        }\n        else {\n            if (options.escapeEverything) {\n                if (regexAnySingleEscape.test(character)) {\n                    value = \"\\\\\" + character;\n                }\n                else {\n                    value = \"\\\\\" + codePoint.toString(16).toUpperCase() + \" \";\n                }\n            }\n            else if (/[\\t\\n\\f\\r\\x0B]/.test(character)) {\n                value = \"\\\\\" + codePoint.toString(16).toUpperCase() + \" \";\n            }\n            else if (character == \"\\\\\" ||\n                (!isIdentifier &&\n                    ((character == '\"' && quote == character) ||\n                        (character == \"'\" && quote == character))) ||\n                (isIdentifier && regexSingleEscape.test(character))) {\n                value = \"\\\\\" + character;\n            }\n            else {\n                value = character;\n            }\n        }\n        output += value;\n    }\n    if (isIdentifier) {\n        if (/^-[-\\d]/.test(output)) {\n            output = \"\\\\-\" + output.slice(1);\n        }\n        else if (/\\d/.test(firstChar)) {\n            output = \"\\\\3\" + firstChar + \" \" + output.slice(1);\n        }\n    }\n    // Remove spaces after `\\HEX` escapes that are not followed by a hex digit,\n    // since they’re redundant. Note that this is only possible if the escape\n    // sequence isn’t preceded by an odd number of backslashes.\n    output = output.replace(regexExcessiveSpaces, function ($0, $1, $2) {\n        if ($1 && $1.length % 2) {\n            // It’s not safe to remove the space, so don’t.\n            return $0;\n        }\n        // Strip the space.\n        return ($1 || \"\") + $2;\n    });\n    if (!isIdentifier && options.wrap) {\n        return quote + output + quote;\n    }\n    return output;\n}\n\n\n//# sourceURL=webpack:///../node_modules/@medv/finder/finder.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/es/array/virtual/reduce.js":
/*!***************************************************************!*\
  !*** ../node_modules/core-js-pure/es/array/virtual/reduce.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ../../../modules/es.array.reduce */ \"../node_modules/core-js-pure/modules/es.array.reduce.js\");\nvar entryVirtual = __webpack_require__(/*! ../../../internals/entry-virtual */ \"../node_modules/core-js-pure/internals/entry-virtual.js\");\n\nmodule.exports = entryVirtual('Array').reduce;\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/es/array/virtual/reduce.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/es/instance/reduce.js":
/*!**********************************************************!*\
  !*** ../node_modules/core-js-pure/es/instance/reduce.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var reduce = __webpack_require__(/*! ../array/virtual/reduce */ \"../node_modules/core-js-pure/es/array/virtual/reduce.js\");\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.reduce;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.reduce) ? reduce : own;\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/es/instance/reduce.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/es/object/define-property.js":
/*!*****************************************************************!*\
  !*** ../node_modules/core-js-pure/es/object/define-property.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ../../modules/es.object.define-property */ \"../node_modules/core-js-pure/modules/es.object.define-property.js\");\nvar path = __webpack_require__(/*! ../../internals/path */ \"../node_modules/core-js-pure/internals/path.js\");\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/es/object/define-property.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/features/instance/reduce.js":
/*!****************************************************************!*\
  !*** ../node_modules/core-js-pure/features/instance/reduce.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ../../es/instance/reduce */ \"../node_modules/core-js-pure/es/instance/reduce.js\");\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/features/instance/reduce.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/features/object/define-property.js":
/*!***********************************************************************!*\
  !*** ../node_modules/core-js-pure/features/object/define-property.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ../../es/object/define-property */ \"../node_modules/core-js-pure/es/object/define-property.js\");\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/features/object/define-property.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/a-function.js":
/*!************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/a-function.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/a-function.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/an-object.js":
/*!***********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/an-object.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var isObject = __webpack_require__(/*! ../internals/is-object */ \"../node_modules/core-js-pure/internals/is-object.js\");\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/an-object.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/array-reduce.js":
/*!**************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/array-reduce.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var aFunction = __webpack_require__(/*! ../internals/a-function */ \"../node_modules/core-js-pure/internals/a-function.js\");\nvar toObject = __webpack_require__(/*! ../internals/to-object */ \"../node_modules/core-js-pure/internals/to-object.js\");\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ \"../node_modules/core-js-pure/internals/indexed-object.js\");\nvar toLength = __webpack_require__(/*! ../internals/to-length */ \"../node_modules/core-js-pure/internals/to-length.js\");\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/array-reduce.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/bind-context.js":
/*!**************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/bind-context.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var aFunction = __webpack_require__(/*! ../internals/a-function */ \"../node_modules/core-js-pure/internals/a-function.js\");\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/bind-context.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/classof-raw.js":
/*!*************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/classof-raw.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/classof-raw.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/create-non-enumerable-property.js":
/*!********************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/create-non-enumerable-property.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"../node_modules/core-js-pure/internals/descriptors.js\");\nvar definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ \"../node_modules/core-js-pure/internals/object-define-property.js\");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ \"../node_modules/core-js-pure/internals/create-property-descriptor.js\");\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/create-non-enumerable-property.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/create-property-descriptor.js":
/*!****************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/create-property-descriptor.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/create-property-descriptor.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/descriptors.js":
/*!*************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/descriptors.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var fails = __webpack_require__(/*! ../internals/fails */ \"../node_modules/core-js-pure/internals/fails.js\");\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/descriptors.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/document-create-element.js":
/*!*************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/document-create-element.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var global = __webpack_require__(/*! ../internals/global */ \"../node_modules/core-js-pure/internals/global.js\");\nvar isObject = __webpack_require__(/*! ../internals/is-object */ \"../node_modules/core-js-pure/internals/is-object.js\");\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/document-create-element.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/entry-virtual.js":
/*!***************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/entry-virtual.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var path = __webpack_require__(/*! ../internals/path */ \"../node_modules/core-js-pure/internals/path.js\");\n\nmodule.exports = function (CONSTRUCTOR) {\n  return path[CONSTRUCTOR + 'Prototype'];\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/entry-virtual.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/export.js":
/*!********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/export.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar global = __webpack_require__(/*! ../internals/global */ \"../node_modules/core-js-pure/internals/global.js\");\nvar getOwnPropertyDescriptor = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ \"../node_modules/core-js-pure/internals/object-get-own-property-descriptor.js\").f;\nvar isForced = __webpack_require__(/*! ../internals/is-forced */ \"../node_modules/core-js-pure/internals/is-forced.js\");\nvar path = __webpack_require__(/*! ../internals/path */ \"../node_modules/core-js-pure/internals/path.js\");\nvar bind = __webpack_require__(/*! ../internals/bind-context */ \"../node_modules/core-js-pure/internals/bind-context.js\");\nvar createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ \"../node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\nvar has = __webpack_require__(/*! ../internals/has */ \"../node_modules/core-js-pure/internals/has.js\");\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof NativeConstructor) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return NativeConstructor.apply(this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    target[key] = resultProperty;\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!has(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/export.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/fails.js":
/*!*******************************************************!*\
  !*** ../node_modules/core-js-pure/internals/fails.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/fails.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/global.js":
/*!********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/global.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/global.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/has.js":
/*!*****************************************************!*\
  !*** ../node_modules/core-js-pure/internals/has.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/has.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/ie8-dom-define.js":
/*!****************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/ie8-dom-define.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"../node_modules/core-js-pure/internals/descriptors.js\");\nvar fails = __webpack_require__(/*! ../internals/fails */ \"../node_modules/core-js-pure/internals/fails.js\");\nvar createElement = __webpack_require__(/*! ../internals/document-create-element */ \"../node_modules/core-js-pure/internals/document-create-element.js\");\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/ie8-dom-define.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/indexed-object.js":
/*!****************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/indexed-object.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var fails = __webpack_require__(/*! ../internals/fails */ \"../node_modules/core-js-pure/internals/fails.js\");\nvar classof = __webpack_require__(/*! ../internals/classof-raw */ \"../node_modules/core-js-pure/internals/classof-raw.js\");\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/indexed-object.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/is-forced.js":
/*!***********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/is-forced.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var fails = __webpack_require__(/*! ../internals/fails */ \"../node_modules/core-js-pure/internals/fails.js\");\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/is-forced.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/is-object.js":
/*!***********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/is-object.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/is-object.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/object-define-property.js":
/*!************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/object-define-property.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"../node_modules/core-js-pure/internals/descriptors.js\");\nvar IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ \"../node_modules/core-js-pure/internals/ie8-dom-define.js\");\nvar anObject = __webpack_require__(/*! ../internals/an-object */ \"../node_modules/core-js-pure/internals/an-object.js\");\nvar toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ \"../node_modules/core-js-pure/internals/to-primitive.js\");\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/object-define-property.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/object-get-own-property-descriptor.js":
/*!************************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/object-get-own-property-descriptor.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"../node_modules/core-js-pure/internals/descriptors.js\");\nvar propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ \"../node_modules/core-js-pure/internals/object-property-is-enumerable.js\");\nvar createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ \"../node_modules/core-js-pure/internals/create-property-descriptor.js\");\nvar toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ \"../node_modules/core-js-pure/internals/to-indexed-object.js\");\nvar toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ \"../node_modules/core-js-pure/internals/to-primitive.js\");\nvar has = __webpack_require__(/*! ../internals/has */ \"../node_modules/core-js-pure/internals/has.js\");\nvar IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ \"../node_modules/core-js-pure/internals/ie8-dom-define.js\");\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/object-get-own-property-descriptor.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/object-property-is-enumerable.js":
/*!*******************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/object-property-is-enumerable.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/object-property-is-enumerable.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/path.js":
/*!******************************************************!*\
  !*** ../node_modules/core-js-pure/internals/path.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/path.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/require-object-coercible.js":
/*!**************************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/require-object-coercible.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/require-object-coercible.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/sloppy-array-method.js":
/*!*********************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/sloppy-array-method.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar fails = __webpack_require__(/*! ../internals/fails */ \"../node_modules/core-js-pure/internals/fails.js\");\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/sloppy-array-method.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/to-indexed-object.js":
/*!*******************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/to-indexed-object.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ \"../node_modules/core-js-pure/internals/indexed-object.js\");\nvar requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ \"../node_modules/core-js-pure/internals/require-object-coercible.js\");\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/to-indexed-object.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/to-integer.js":
/*!************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/to-integer.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/to-integer.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/to-length.js":
/*!***********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/to-length.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var toInteger = __webpack_require__(/*! ../internals/to-integer */ \"../node_modules/core-js-pure/internals/to-integer.js\");\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/to-length.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/to-object.js":
/*!***********************************************************!*\
  !*** ../node_modules/core-js-pure/internals/to-object.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ \"../node_modules/core-js-pure/internals/require-object-coercible.js\");\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/to-object.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/internals/to-primitive.js":
/*!**************************************************************!*\
  !*** ../node_modules/core-js-pure/internals/to-primitive.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var isObject = __webpack_require__(/*! ../internals/is-object */ \"../node_modules/core-js-pure/internals/is-object.js\");\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/internals/to-primitive.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/modules/es.array.reduce.js":
/*!***************************************************************!*\
  !*** ../node_modules/core-js-pure/modules/es.array.reduce.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar $ = __webpack_require__(/*! ../internals/export */ \"../node_modules/core-js-pure/internals/export.js\");\nvar $reduce = __webpack_require__(/*! ../internals/array-reduce */ \"../node_modules/core-js-pure/internals/array-reduce.js\").left;\nvar sloppyArrayMethod = __webpack_require__(/*! ../internals/sloppy-array-method */ \"../node_modules/core-js-pure/internals/sloppy-array-method.js\");\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('reduce') }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/modules/es.array.reduce.js?");

/***/ }),

/***/ "../node_modules/core-js-pure/modules/es.object.define-property.js":
/*!*************************************************************************!*\
  !*** ../node_modules/core-js-pure/modules/es.object.define-property.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var $ = __webpack_require__(/*! ../internals/export */ \"../node_modules/core-js-pure/internals/export.js\");\nvar DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ \"../node_modules/core-js-pure/internals/descriptors.js\");\nvar objectDefinePropertyModile = __webpack_require__(/*! ../internals/object-define-property */ \"../node_modules/core-js-pure/internals/object-define-property.js\");\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n\n\n//# sourceURL=webpack:///../node_modules/core-js-pure/modules/es.object.define-property.js?");

/***/ }),

/***/ "../node_modules/webpack/buildin/global.js":
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///../node_modules/webpack/buildin/global.js?");

/***/ }),

/***/ "../packages/dom/src/css.ts":
/*!**********************************!*\
  !*** ../packages/dom/src/css.ts ***!
  \**********************************/
/*! exports provided: createCssSelectorMatcher, describeCss */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCssSelectorMatcher\", function() { return createCssSelectorMatcher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"describeCss\", function() { return describeCss; });\n/* harmony import */ var _medv_finder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @medv/finder */ \"../node_modules/@medv/finder/finder.js\");\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/* harmony import */ var _to_range_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./to-range.ts */ \"../packages/dom/src/to-range.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n/**\r\n * Find the elements corresponding to the given {@link\r\n * CssSelector}.\r\n *\r\n * The given CssSelector returns all elements within `scope` that it matches.\r\n *\r\n * The function is curried, taking first the selector and then the scope.\r\n *\r\n * As there may be multiple matches for a given selector, the matcher will\r\n * return an (async) iterable that produces each match in the order they are\r\n * found in the document.\r\n *\r\n * Note that the Web Annotation specification does not mention whether an\r\n * ‘ambiguous’ CssSelector should indeed match all elements that match the\r\n * selector value, or perhaps only the first. This implementation returns all\r\n * matches to give users the freedom to follow either interpretation. This is\r\n * also in line with more clearly defined behaviour of the TextQuoteSelector:\r\n *\r\n * > “If […] the user agent discovers multiple matching text sequences, then the\r\n * > selection SHOULD be treated as matching all of the matches.”\r\n *\r\n * Note that if `scope` is *not* a Document, the [Web Annotation Data Model](https://www.w3.org/TR/2017/REC-annotation-model-20170223/#css-selector)\r\n * leaves the behaviour undefined. This implementation will, in such a case,\r\n * evaluate the selector relative to the document containing the scope, but only\r\n * return those matches that are fully enclosed within the scope. There might be\r\n * edge cases where this is not a perfect inverse of {@link describeCss}.\r\n *\r\n * @example\r\n * ```\r\n * const matches = createCssSelectorMatcher({\r\n *   type: 'CssSelector',\r\n *   value: '#target',\r\n * });\r\n * for await (const match of matches) {\r\n *   console.log(match);\r\n * }\r\n * // <div id=\"target\" …>\r\n * ```\r\n *\r\n * @param selector - The {@link CssSelector} to be anchored.\r\n * @returns A {@link Matcher} function that applies `selector` to a given\r\n * `scope`.\r\n *\r\n * @public\r\n */\n\nfunction createCssSelectorMatcher(selector) {\n  return async function* matchAll(scope) {\n    scope = Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_2__[\"toRange\"])(scope);\n    const document = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_1__[\"ownerDocument\"])(scope);\n\n    for (const element of document.querySelectorAll(selector.value)) {\n      const range = document.createRange();\n      range.selectNode(element);\n\n      if (scope.isPointInRange(range.startContainer, range.startOffset) && scope.isPointInRange(range.endContainer, range.endOffset)) {\n        yield element;\n      }\n    }\n  };\n}\n/**\r\n * Returns a {@link CssSelector} that unambiguously describes the given\r\n * element, within the given scope.\r\n *\r\n * @example\r\n * ```\r\n * const target = document.getElementById('targetelement').firstElementChild;\r\n * const selector = await describeCss(target);\r\n * console.log(selector);\r\n * // {\r\n * //   type: 'CssSelector',\r\n * //   value: '#targetelement > :nth-child(1)'\r\n * // }\r\n * ```\r\n *\r\n * @param element - The element that the selector should describe.\r\n * @param scope - The node that serves as the ‘document’ for purposes of finding\r\n * an unambiguous selector. Defaults to the Document that contains `element`.\r\n * @returns The selector unambiguously describing `element` within `scope`.\r\n */\n\nasync function describeCss(element, scope = element.ownerDocument.documentElement) {\n  const selector = Object(_medv_finder__WEBPACK_IMPORTED_MODULE_0__[\"finder\"])(element, {\n    root: scope\n  });\n  return {\n    type: 'CssSelector',\n    value: selector\n  };\n}\n\n//# sourceURL=webpack:///../packages/dom/src/css.ts?");

/***/ }),

/***/ "../packages/dom/src/highlight-text.ts":
/*!*********************************************!*\
  !*** ../packages/dom/src/highlight-text.ts ***!
  \*********************************************/
/*! exports provided: highlightText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"highlightText\", function() { return highlightText; });\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/* harmony import */ var _to_range_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./to-range.ts */ \"../packages/dom/src/to-range.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Wrap each text node in a given Node or Range with a `<mark>` or other\r\n * element.\r\n *\r\n * If a Range is given that starts and/or ends within a Text node, that node\r\n * will be split in order to only wrap the contained part in the mark element.\r\n *\r\n * The highlight can be removed again by calling the function that cleans up the\r\n * wrapper elements. Note that this might not perfectly restore the DOM to its\r\n * previous state: text nodes that were split are not merged again. One could\r\n * consider running `range.commonAncestorContainer.normalize()` afterwards to\r\n * join all adjacent text nodes.\r\n *\r\n * @param target - The Node/Range containing the text. If it is a Range, note\r\n * that as highlighting modifies the DOM, the Range may be unusable afterwards.\r\n * @param tagName - The element used to wrap text nodes. Defaults to `'mark'`.\r\n * @param attributes - An object defining any attributes to be set on the\r\n * wrapper elements, e.g. its `class`.\r\n * @returns A function that removes the created highlight.\r\n *\r\n * @public\r\n */\n\nfunction highlightText(target, tagName = 'mark', attributes = {}) {\n  // First put all nodes in an array (splits start and end nodes if needed)\n  const nodes = textNodesInRange(Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_1__[\"toRange\"])(target)); // Highlight each node\n\n  const highlightElements = [];\n\n  for (const node of nodes) {\n    const highlightElement = wrapNodeInHighlight(node, tagName, attributes);\n    highlightElements.push(highlightElement);\n  } // Return a function that cleans up the highlightElements.\n\n\n  function removeHighlights() {\n    // Remove each of the created highlightElements.\n    for (const highlightElement of highlightElements) {\n      removeHighlight(highlightElement);\n    }\n  }\n\n  return removeHighlights;\n} // Return an array of the text nodes in the range. Split the start and end nodes if required.\n\nfunction textNodesInRange(range) {\n  // If the start or end node is a text node and only partly in the range, split it.\n  if (isTextNode(range.startContainer) && range.startOffset > 0) {\n    const endOffset = range.endOffset; // (this may get lost when the splitting the node)\n\n    const createdNode = range.startContainer.splitText(range.startOffset);\n\n    if (range.endContainer === range.startContainer) {\n      // If the end was in the same container, it will now be in the newly created node.\n      range.setEnd(createdNode, endOffset - range.startOffset);\n    }\n\n    range.setStart(createdNode, 0);\n  }\n\n  if (isTextNode(range.endContainer) && range.endOffset < range.endContainer.length) {\n    range.endContainer.splitText(range.endOffset);\n  } // Collect the text nodes.\n\n\n  const walker = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_0__[\"ownerDocument\"])(range).createTreeWalker(range.commonAncestorContainer, NodeFilter.SHOW_TEXT, {\n    acceptNode: node => range.intersectsNode(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT\n  });\n  walker.currentNode = range.startContainer; // // Optimise by skipping nodes that are explicitly outside the range.\n  // const NodeTypesWithCharacterOffset = [\n  //  Node.TEXT_NODE,\n  //  Node.PROCESSING_INSTRUCTION_NODE,\n  //  Node.COMMENT_NODE,\n  // ];\n  // if (!NodeTypesWithCharacterOffset.includes(range.startContainer.nodeType)) {\n  //   if (range.startOffset < range.startContainer.childNodes.length) {\n  //     walker.currentNode = range.startContainer.childNodes[range.startOffset];\n  //   } else {\n  //     walker.nextSibling(); // TODO verify this is correct.\n  //   }\n  // }\n\n  const nodes = [];\n  if (isTextNode(walker.currentNode)) nodes.push(walker.currentNode);\n\n  while (walker.nextNode() && range.comparePoint(walker.currentNode, 0) !== 1) nodes.push(walker.currentNode);\n\n  return nodes;\n} // Replace [node] with <tagName ...attributes>[node]</tagName>\n\n\nfunction wrapNodeInHighlight(node, tagName, attributes) {\n  const document = node.ownerDocument;\n  const highlightElement = document.createElement(tagName);\n  Object.keys(attributes).forEach(key => {\n    highlightElement.setAttribute(key, attributes[key]);\n  });\n  const tempRange = document.createRange();\n  tempRange.selectNode(node);\n  tempRange.surroundContents(highlightElement);\n  return highlightElement;\n} // Remove a highlight element created with wrapNodeInHighlight.\n\n\nfunction removeHighlight(highlightElement) {\n  // If it has somehow been removed already, there is nothing to be done.\n  if (!highlightElement.parentNode) return;\n\n  if (highlightElement.childNodes.length === 1) {\n    highlightElement.replaceWith(highlightElement.firstChild);\n  } else {\n    // If the highlight somehow contains multiple nodes now, move them all.\n    while (highlightElement.firstChild) {\n      highlightElement.parentNode.insertBefore(highlightElement.firstChild, highlightElement);\n    }\n\n    highlightElement.remove();\n  }\n}\n\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\n//# sourceURL=webpack:///../packages/dom/src/highlight-text.ts?");

/***/ }),

/***/ "../packages/dom/src/index.ts":
/*!************************************!*\
  !*** ../packages/dom/src/index.ts ***!
  \************************************/
/*! exports provided: createCssSelectorMatcher, describeCss, makeCreateRangeSelectorMatcher, describeTextQuote, createTextQuoteSelectorMatcher, describeTextPosition, createTextPositionSelectorMatcher, highlightText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _css_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css.ts */ \"../packages/dom/src/css.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createCssSelectorMatcher\", function() { return _css_ts__WEBPACK_IMPORTED_MODULE_0__[\"createCssSelectorMatcher\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeCss\", function() { return _css_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeCss\"]; });\n\n/* harmony import */ var _range_index_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./range/index.ts */ \"../packages/dom/src/range/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"makeCreateRangeSelectorMatcher\", function() { return _range_index_ts__WEBPACK_IMPORTED_MODULE_1__[\"makeCreateRangeSelectorMatcher\"]; });\n\n/* harmony import */ var _text_quote_index_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text-quote/index.ts */ \"../packages/dom/src/text-quote/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextQuote\", function() { return _text_quote_index_ts__WEBPACK_IMPORTED_MODULE_2__[\"describeTextQuote\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createTextQuoteSelectorMatcher\", function() { return _text_quote_index_ts__WEBPACK_IMPORTED_MODULE_2__[\"createTextQuoteSelectorMatcher\"]; });\n\n/* harmony import */ var _text_position_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./text-position/index.ts */ \"../packages/dom/src/text-position/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextPosition\", function() { return _text_position_index_ts__WEBPACK_IMPORTED_MODULE_3__[\"describeTextPosition\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createTextPositionSelectorMatcher\", function() { return _text_position_index_ts__WEBPACK_IMPORTED_MODULE_3__[\"createTextPositionSelectorMatcher\"]; });\n\n/* harmony import */ var _highlight_text_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./highlight-text.ts */ \"../packages/dom/src/highlight-text.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"highlightText\", function() { return _highlight_text_ts__WEBPACK_IMPORTED_MODULE_4__[\"highlightText\"]; });\n\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n\n\n\n//# sourceURL=webpack:///../packages/dom/src/index.ts?");

/***/ }),

/***/ "../packages/dom/src/normalize-range.ts":
/*!**********************************************!*\
  !*** ../packages/dom/src/normalize-range.ts ***!
  \**********************************************/
/*! exports provided: normalizeRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizeRange\", function() { return normalizeRange; });\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/**\r\n * TextRange is a Range that guarantees to always have Text nodes as its start\r\n * and end nodes. To ensure the type remains correct, it also restricts usage\r\n * of methods that would modify these nodes (note that a user can simply cast\r\n * the TextRange back to a Range to remove these restrictions).\r\n */\n\n/**\r\n * Normalise a {@link https://developer.mozilla.org/en-US/docs/Web/API/Range |\r\n * Range} such that ranges spanning the same text become exact equals.\r\n *\r\n * *Note: in this context ‘text’ means any characters, including whitespace.*\r\n\r\n * Normalises a range such that both its start and end are text nodes, and that\r\n * if there are equivalent text selections it takes the narrowest option (i.e.\r\n * it prefers the start not to be at the end of a text node, and vice versa).\r\n *\r\n * If there is no text between the start and end, they thus collapse onto one a\r\n * single position; and if there are multiple equivalent positions, it takes the\r\n * first one; or, if scope is passed, the first equivalent falling within scope.\r\n *\r\n * Note that if the given range does not contain non-empty text nodes, it may\r\n * end up pointing at a text node outside of it (before it if possible, else\r\n * after). If the document does not contain any text nodes, an error is thrown.\r\n */\nfunction normalizeRange(range, scope) {\n  const document = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_0__[\"ownerDocument\"])(range);\n  const walker = document.createTreeWalker(document, NodeFilter.SHOW_TEXT, {\n    acceptNode(node) {\n      return !scope || scope.intersectsNode(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n    }\n\n  });\n  let [startContainer, startOffset] = snapBoundaryPointToTextNode(range.startContainer, range.startOffset); // If we point at the end of a text node, move to the start of the next one.\n  // The step is repeated to skip over empty text nodes.\n\n  walker.currentNode = startContainer;\n\n  while (startOffset === startContainer.length && walker.nextNode()) {\n    startContainer = walker.currentNode;\n    startOffset = 0;\n  } // Set the range’s start; note this might move its end too.\n\n\n  range.setStart(startContainer, startOffset);\n  let [endContainer, endOffset] = snapBoundaryPointToTextNode(range.endContainer, range.endOffset); // If we point at the start of a text node, move to the end of the previous one.\n  // The step is repeated to skip over empty text nodes.\n\n  walker.currentNode = endContainer;\n\n  while (endOffset === 0 && walker.previousNode()) {\n    endContainer = walker.currentNode;\n    endOffset = endContainer.length;\n  } // Set the range’s end; note this might move its start too.\n\n\n  range.setEnd(endContainer, endOffset);\n  return range;\n} // Given an arbitrary boundary point, this returns either:\n// - that same boundary point, if its node is a text node;\n// - otherwise the first boundary point after it whose node is a text node, if any;\n// - otherwise, the last boundary point before it whose node is a text node.\n// If the document has no text nodes, it throws an error.\n\nfunction snapBoundaryPointToTextNode(node, offset) {\n  var _node$ownerDocument;\n\n  if (isText(node)) return [node, offset]; // Find the node at or right after the boundary point.\n\n  let curNode;\n\n  if (isCharacterData(node)) {\n    curNode = node;\n  } else if (offset < node.childNodes.length) {\n    curNode = node.childNodes[offset];\n  } else {\n    curNode = node;\n\n    while (curNode.nextSibling === null) {\n      if (curNode.parentNode === null) // Boundary point is at end of document\n        throw new Error('not implemented'); // TODO\n\n      curNode = curNode.parentNode;\n    }\n\n    curNode = curNode.nextSibling;\n  }\n\n  if (isText(curNode)) return [curNode, 0]; // Walk to the next text node, or the last if there is none.\n\n  const document = (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 ? _node$ownerDocument : node;\n  const walker = document.createTreeWalker(document, NodeFilter.SHOW_TEXT);\n  walker.currentNode = curNode;\n\n  if (walker.nextNode() !== null) {\n    return [walker.currentNode, 0];\n  } else if (walker.previousNode() !== null) {\n    return [walker.currentNode, walker.currentNode.length];\n  } else {\n    throw new Error('Document contains no text nodes.');\n  }\n}\n\nfunction isText(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\nfunction isCharacterData(node) {\n  return node.nodeType === Node.PROCESSING_INSTRUCTION_NODE || node.nodeType === Node.COMMENT_NODE || node.nodeType === Node.TEXT_NODE;\n}\n\n//# sourceURL=webpack:///../packages/dom/src/normalize-range.ts?");

/***/ }),

/***/ "../packages/dom/src/owner-document.ts":
/*!*********************************************!*\
  !*** ../packages/dom/src/owner-document.ts ***!
  \*********************************************/
/*! exports provided: ownerDocument */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ownerDocument\", function() { return ownerDocument; });\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/**\r\n * Get the ownerDocument for either a range or a node.\r\n *\r\n * @param nodeOrRange the node or range for which to get the owner document.\r\n */\nfunction ownerDocument(nodeOrRange) {\n  var _node$ownerDocument;\n\n  const node = isRange(nodeOrRange) ? nodeOrRange.startContainer : nodeOrRange; // node.ownerDocument is null iff node is itself a Document.\n\n  return (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 ? _node$ownerDocument : node;\n}\n\nfunction isRange(nodeOrRange) {\n  return 'startContainer' in nodeOrRange;\n}\n\n//# sourceURL=webpack:///../packages/dom/src/owner-document.ts?");

/***/ }),

/***/ "../packages/dom/src/range/cartesian.ts":
/*!**********************************************!*\
  !*** ../packages/dom/src/range/cartesian.ts ***!
  \**********************************************/
/*! exports provided: cartesian */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cartesian\", function() { return cartesian; });\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_reduce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js/instance/reduce */ \"../node_modules/@babel/runtime-corejs3/core-js/instance/reduce.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_instance_reduce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_instance_reduce__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Generates the Cartesian product of the sets generated by the given iterables.\r\n *\r\n *   𝑆₁ × ... × 𝑆ₙ = { (𝑒₁,...,𝑒ₙ) | 𝑒ᵢ ∈ 𝑆ᵢ }\r\n */\nasync function* cartesian(...iterables) {\n  // Create iterators for traversing each iterable and tagging every value\n  // with the index of its source iterable.\n  const iterators = iterables.map((iterable, index) => {\n    const generator = async function* () {\n      for await (const value of iterable) {\n        yield {\n          index,\n          value\n        };\n      }\n\n      return {\n        index\n      };\n    };\n\n    return generator();\n  });\n\n  try {\n    // Track the number of non-exhausted iterators.\n    let active = iterators.length; // Track all the values of each iterator in a log.\n\n    const logs = iterators.map(() => []); // Track the promise of the next value of each iterator.\n\n    const nexts = iterators.map(it => it.next()); // Iterate the values of all the iterators in parallel and yield tuples from\n    // the partial product of each new value and the existing logs of the other\n    // iterators.\n\n    while (active) {\n      // Wait for the next result.\n      const result = await Promise.race(nexts);\n      const {\n        index\n      } = result.value; // If the iterator has exhausted all the values, set the promise\n      // of its next value to never resolve.\n\n      if (result.done) {\n        active--;\n        nexts[index] = new Promise(() => undefined);\n        continue;\n      } // Append the new value to the log.\n\n\n      const {\n        value\n      } = result.value;\n      logs[index].push(value); // Record the promise of the next value.\n\n      nexts[index] = iterators[index].next(); // Create a scratch input for computing a partial product.\n\n      const scratch = [...logs];\n      scratch[index] = [value]; // Synchronously compute and yield tuples of the partial product.\n\n      yield* _babel_runtime_corejs3_core_js_instance_reduce__WEBPACK_IMPORTED_MODULE_0___default()(scratch).call(scratch, (acc, next) => acc.flatMap(v => next.map(w => [...v, w])), [[]]);\n    }\n  } finally {\n    const closeAll = iterators.map((it, index) => it.return({\n      index\n    }));\n    await Promise.all(closeAll);\n  }\n}\n\n//# sourceURL=webpack:///../packages/dom/src/range/cartesian.ts?");

/***/ }),

/***/ "../packages/dom/src/range/index.ts":
/*!******************************************!*\
  !*** ../packages/dom/src/range/index.ts ***!
  \******************************************/
/*! exports provided: makeCreateRangeSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _match_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./match.ts */ \"../packages/dom/src/range/match.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"makeCreateRangeSelectorMatcher\", function() { return _match_ts__WEBPACK_IMPORTED_MODULE_0__[\"makeCreateRangeSelectorMatcher\"]; });\n\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n//# sourceURL=webpack:///../packages/dom/src/range/index.ts?");

/***/ }),

/***/ "../packages/dom/src/range/match.ts":
/*!******************************************!*\
  !*** ../packages/dom/src/range/match.ts ***!
  \******************************************/
/*! exports provided: makeCreateRangeSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeCreateRangeSelectorMatcher\", function() { return makeCreateRangeSelectorMatcher; });\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/* harmony import */ var _to_range_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../to-range.ts */ \"../packages/dom/src/to-range.ts\");\n/* harmony import */ var _cartesian_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cartesian.ts */ \"../packages/dom/src/range/cartesian.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n/**\r\n * Find the range(s) corresponding to the given {@link RangeSelector}.\r\n *\r\n * As a RangeSelector itself nests two further selectors, one needs to pass a\r\n * `createMatcher` function that will be used to process those nested selectors.\r\n *\r\n * The function is curried, taking first the `createMatcher` function, then the\r\n * selector, and then the scope.\r\n *\r\n * As there may be multiple matches for the start & end selectors, the resulting\r\n * matcher will return an (async) iterable, that produces a match for each\r\n * possible pair of matches of the nested selectors (except those where its end\r\n * would precede its start). *(Note that this behaviour is a rather free\r\n * interpretation of the Web Annotation Data Model spec, which is silent about\r\n * the possibility of multiple matches for RangeSelectors)*\r\n *\r\n * @example\r\n * By using a matcher for {@link TextQuoteSelector}s, one\r\n * could create a matcher for text quotes with ellipsis to select a phrase\r\n * “ipsum … amet,”:\r\n * ```\r\n * const selector = {\r\n *   type: 'RangeSelector',\r\n *   startSelector: {\r\n *     type: 'TextQuoteSelector',\r\n *     exact: 'ipsum ',\r\n *   },\r\n *   endSelector: {\r\n *     type: 'TextQuoteSelector',\r\n *     // Because the end of a RangeSelector is *exclusive*, we will present the\r\n *     // latter part of the quote as the *prefix* so it will be part of the\r\n *     // match.\r\n *     exact: '',\r\n *     prefix: ' amet,',\r\n *   }\r\n * };\r\n * const createRangeSelectorMatcher =\r\n *   makeCreateRangeSelectorMatcher(createTextQuoteMatcher);\r\n * const match = createRangeSelectorMatcher(selector)(document.body);\r\n * console.log(match)\r\n * // ⇒ Range { startContainer: #text, startOffset: 6, endContainer: #text,\r\n * //   endOffset: 27, … }\r\n * ```\r\n *\r\n * @example\r\n * To support RangeSelectors that might themselves contain RangeSelectors,\r\n * recursion can be created by supplying the resulting matcher creator function\r\n * as the `createMatcher` parameter:\r\n * ```\r\n * const createWhicheverMatcher = (selector) => {\r\n *   const innerCreateMatcher = {\r\n *     TextQuoteSelector: createTextQuoteSelectorMatcher,\r\n *     TextPositionSelector: createTextPositionSelectorMatcher,\r\n *     RangeSelector: makeCreateRangeSelectorMatcher(createWhicheverMatcher),\r\n *   }[selector.type];\r\n *   return innerCreateMatcher(selector);\r\n * });\r\n * ```\r\n *\r\n * @param createMatcher - The function used to process nested selectors.\r\n * @returns A function that, given a RangeSelector `selector`, creates a {@link\r\n * Matcher} function that can apply it to a given `scope`.\r\n *\r\n * @public\r\n */\n\nfunction makeCreateRangeSelectorMatcher(createMatcher) {\n  return function createRangeSelectorMatcher(selector) {\n    const startMatcher = createMatcher(selector.startSelector);\n    const endMatcher = createMatcher(selector.endSelector);\n    return async function* matchAll(scope) {\n      const startMatches = startMatcher(scope);\n      const endMatches = endMatcher(scope);\n      const pairs = Object(_cartesian_ts__WEBPACK_IMPORTED_MODULE_2__[\"cartesian\"])(startMatches, endMatches);\n\n      for await (let [start, end] of pairs) {\n        start = Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_1__[\"toRange\"])(start);\n        end = Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_1__[\"toRange\"])(end);\n        const result = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_0__[\"ownerDocument\"])(scope).createRange();\n        result.setStart(start.startContainer, start.startOffset); // Note that a RangeSelector’s match *excludes* the endSelector’s match,\n        // hence we take the end’s startContainer & startOffset.\n\n        result.setEnd(end.startContainer, end.startOffset);\n        if (!result.collapsed) yield result;\n      }\n    };\n  };\n}\n\n//# sourceURL=webpack:///../packages/dom/src/range/match.ts?");

/***/ }),

/***/ "../packages/dom/src/text-node-chunker.ts":
/*!************************************************!*\
  !*** ../packages/dom/src/text-node-chunker.ts ***!
  \************************************************/
/*! exports provided: EmptyScopeError, OutOfScopeError, TextNodeChunker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EmptyScopeError\", function() { return EmptyScopeError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OutOfScopeError\", function() { return OutOfScopeError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextNodeChunker\", function() { return TextNodeChunker; });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _normalize_range_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./normalize-range.ts */ \"../packages/dom/src/normalize-range.ts\");\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/* harmony import */ var _to_range_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./to-range.ts */ \"../packages/dom/src/to-range.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n\nclass EmptyScopeError extends TypeError {\n  constructor(message) {\n    super(message || 'Scope contains no text nodes.');\n  }\n\n}\nclass OutOfScopeError extends TypeError {\n  constructor(message) {\n    super(message || 'Cannot convert node to chunk, as it falls outside of chunker’s scope.');\n  }\n\n}\nclass TextNodeChunker {\n  get currentChunk() {\n    const node = this.iter.referenceNode; // This test should not actually be needed, but it keeps TypeScript happy.\n\n    if (!isText(node)) throw new EmptyScopeError();\n    return this.nodeToChunk(node);\n  }\n\n  nodeToChunk(node) {\n    if (!this.scope.intersectsNode(node)) throw new OutOfScopeError();\n    const startOffset = node === this.scope.startContainer ? this.scope.startOffset : 0;\n    const endOffset = node === this.scope.endContainer ? this.scope.endOffset : node.length;\n    return {\n      node,\n      startOffset,\n      endOffset,\n      data: node.data.substring(startOffset, endOffset),\n\n      equals(other) {\n        return other.node === this.node && other.startOffset === this.startOffset && other.endOffset === this.endOffset;\n      }\n\n    };\n  }\n\n  rangeToChunkRange(range) {\n    range = range.cloneRange(); // Take the part of the range that falls within the scope.\n\n    if (range.compareBoundaryPoints(Range.START_TO_START, this.scope) === -1) range.setStart(this.scope.startContainer, this.scope.startOffset);\n    if (range.compareBoundaryPoints(Range.END_TO_END, this.scope) === 1) range.setEnd(this.scope.endContainer, this.scope.endOffset); // Ensure it starts and ends at text nodes.\n\n    const textRange = Object(_normalize_range_ts__WEBPACK_IMPORTED_MODULE_1__[\"normalizeRange\"])(range, this.scope);\n    const startChunk = this.nodeToChunk(textRange.startContainer);\n    const startIndex = textRange.startOffset - startChunk.startOffset;\n    const endChunk = this.nodeToChunk(textRange.endContainer);\n    const endIndex = textRange.endOffset - endChunk.startOffset;\n    return {\n      startChunk,\n      startIndex,\n      endChunk,\n      endIndex\n    };\n  }\n\n  chunkRangeToRange(chunkRange) {\n    const range = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_2__[\"ownerDocument\"])(this.scope).createRange(); // The `+…startOffset` parts are only relevant for the first chunk, as it\n    // might start within a text node.\n\n    range.setStart(chunkRange.startChunk.node, chunkRange.startIndex + chunkRange.startChunk.startOffset);\n    range.setEnd(chunkRange.endChunk.node, chunkRange.endIndex + chunkRange.endChunk.startOffset);\n    return range;\n  }\n  /**\r\n   * @param scope A Range that overlaps with at least one text node.\r\n   */\n\n\n  constructor(scope) {\n    _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"scope\", void 0);\n\n    _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"iter\", void 0);\n\n    this.scope = Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_3__[\"toRange\"])(scope);\n    this.iter = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_2__[\"ownerDocument\"])(scope).createNodeIterator(this.scope.commonAncestorContainer, NodeFilter.SHOW_TEXT, {\n      acceptNode: node => {\n        return this.scope.intersectsNode(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n      }\n    }); // Move the iterator to after the start (= root) node.\n\n    this.iter.nextNode(); // If the start node is not a text node, move it to the first text node.\n\n    if (!isText(this.iter.referenceNode)) {\n      const nextNode = this.iter.nextNode();\n      if (nextNode === null) throw new EmptyScopeError();\n    }\n  }\n\n  nextChunk() {\n    // Move the iterator to after the current node, so nextNode() will cause a jump.\n    if (this.iter.pointerBeforeReferenceNode) this.iter.nextNode();\n    if (this.iter.nextNode()) return this.currentChunk;else return null;\n  }\n\n  previousChunk() {\n    if (!this.iter.pointerBeforeReferenceNode) this.iter.previousNode();\n    if (this.iter.previousNode()) return this.currentChunk;else return null;\n  }\n\n  precedesCurrentChunk(chunk) {\n    if (this.currentChunk === null) return false;\n    return !!(this.currentChunk.node.compareDocumentPosition(chunk.node) & Node.DOCUMENT_POSITION_PRECEDING);\n  }\n\n}\n\nfunction isText(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\n//# sourceURL=webpack:///../packages/dom/src/text-node-chunker.ts?");

/***/ }),

/***/ "../packages/dom/src/text-position/describe.ts":
/*!*****************************************************!*\
  !*** ../packages/dom/src/text-position/describe.ts ***!
  \*****************************************************/
/*! exports provided: describeTextPosition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"describeTextPosition\", function() { return describeTextPosition; });\n/* harmony import */ var C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packages/selector/src/index.ts */ \"../packages/selector/src/index.ts\");\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/* harmony import */ var _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../text-node-chunker.ts */ \"../packages/dom/src/text-node-chunker.ts\");\n/* harmony import */ var _to_range_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../to-range.ts */ \"../packages/dom/src/to-range.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n\n/**\r\n * Returns a {@link TextPositionSelector} that points at the target text within\r\n * the given scope.\r\n *\r\n * When no scope is given, the position is described relative to the document\r\n * as a whole. Note this means all the characters in all Text nodes are counted\r\n * to determine the target’s position, including those in the `<head>` and\r\n * whitespace, hence even a minor modification could make the selector point to\r\n * a different text than its original target.\r\n *\r\n * @example\r\n * ```\r\n * const target = window.getSelection().getRangeAt(0);\r\n * const selector = await describeTextPosition(target);\r\n * console.log(selector);\r\n * // {\r\n * //   type: 'TextPositionSelector',\r\n * //   start: 702,\r\n * //   end: 736\r\n * // }\r\n * ```\r\n *\r\n * @param range - The {@link https://developer.mozilla.org/en-US/docs/Web/API/Range\r\n * | Range} whose text content will be described.\r\n * @param scope - A Node or Range that serves as the ‘document’ for purposes of\r\n * finding occurrences and determining prefix and suffix. Defaults to the full\r\n * Document that contains `range`.\r\n * @returns The selector describing `range` within `scope`.\r\n *\r\n * @public\r\n */\n\nasync function describeTextPosition(range, scope) {\n  var _scope;\n\n  scope = Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_3__[\"toRange\"])((_scope = scope) !== null && _scope !== void 0 ? _scope : Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_1__[\"ownerDocument\"])(range));\n  const textChunks = new _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_2__[\"TextNodeChunker\"](scope);\n  if (textChunks.currentChunk === null) throw new RangeError('Scope does not contain any Text nodes.');\n  return await Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextPosition\"])(textChunks.rangeToChunkRange(range), textChunks);\n}\n\n//# sourceURL=webpack:///../packages/dom/src/text-position/describe.ts?");

/***/ }),

/***/ "../packages/dom/src/text-position/index.ts":
/*!**************************************************!*\
  !*** ../packages/dom/src/text-position/index.ts ***!
  \**************************************************/
/*! exports provided: describeTextPosition, createTextPositionSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _describe_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./describe.ts */ \"../packages/dom/src/text-position/describe.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextPosition\", function() { return _describe_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextPosition\"]; });\n\n/* harmony import */ var _match_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./match.ts */ \"../packages/dom/src/text-position/match.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createTextPositionSelectorMatcher\", function() { return _match_ts__WEBPACK_IMPORTED_MODULE_1__[\"createTextPositionSelectorMatcher\"]; });\n\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n//# sourceURL=webpack:///../packages/dom/src/text-position/index.ts?");

/***/ }),

/***/ "../packages/dom/src/text-position/match.ts":
/*!**************************************************!*\
  !*** ../packages/dom/src/text-position/match.ts ***!
  \**************************************************/
/*! exports provided: createTextPositionSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTextPositionSelectorMatcher\", function() { return createTextPositionSelectorMatcher; });\n/* harmony import */ var C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packages/selector/src/index.ts */ \"../packages/selector/src/index.ts\");\n/* harmony import */ var _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text-node-chunker.ts */ \"../packages/dom/src/text-node-chunker.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Find the range of text corresponding to the given {@link\r\n * TextPositionSelector}.\r\n *\r\n * The start and end positions are measured relative to the first text character\r\n * in the given scope.\r\n *\r\n * The function is curried, taking first the selector and then the scope.\r\n *\r\n * Its end result is an (async) generator producing a single {@link https://developer.mozilla.org/en-US/docs/Web/API/Range\r\n * | Range} to represent the match (unlike e.g. a {@link TextQuoteSelector}, a\r\n * TextPositionSelector cannot have multiple matches).\r\n *\r\n * @example\r\n * ```\r\n * const selector = { type: 'TextPositionSelector', start: 702, end: 736 };\r\n * const scope = document.body;\r\n * const matches = textQuoteSelectorMatcher(selector)(scope);\r\n * const match = (await matches.next()).value;\r\n * // ⇒ Range { startContainer: #text, startOffset: 64, endContainer: #text,\r\n * //   endOffset: 98, … }\r\n * ```\r\n *\r\n * @param selector - The {@link TextPositionSelector} to be anchored.\r\n * @returns A {@link Matcher} function that applies `selector` within a given\r\n * `scope`.\r\n *\r\n * @public\r\n */\n\nfunction createTextPositionSelectorMatcher(selector) {\n  const abstractMatcher = Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"textPositionSelectorMatcher\"])(selector);\n  return async function* matchAll(scope) {\n    const textChunks = new _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_1__[\"TextNodeChunker\"](scope);\n    const matches = abstractMatcher(textChunks);\n\n    for await (const abstractMatch of matches) {\n      yield textChunks.chunkRangeToRange(abstractMatch);\n    }\n  };\n}\n\n//# sourceURL=webpack:///../packages/dom/src/text-position/match.ts?");

/***/ }),

/***/ "../packages/dom/src/text-quote/describe.ts":
/*!**************************************************!*\
  !*** ../packages/dom/src/text-quote/describe.ts ***!
  \**************************************************/
/*! exports provided: describeTextQuote */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"describeTextQuote\", function() { return describeTextQuote; });\n/* harmony import */ var C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packages/selector/src/index.ts */ \"../packages/selector/src/index.ts\");\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/* harmony import */ var _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../text-node-chunker.ts */ \"../packages/dom/src/text-node-chunker.ts\");\n/* harmony import */ var _to_range_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../to-range.ts */ \"../packages/dom/src/to-range.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n\n/**\r\n * Returns a {@link TextQuoteSelector} that unambiguously describes the given\r\n * range of text, within the given scope.\r\n *\r\n * The selector will contain the *exact* target quote, and in case this quote\r\n * appears multiple times in the text, sufficient context around the quote will\r\n * be included in the selector’s *prefix* and *suffix* attributes to\r\n * disambiguate. By default, more prefix and suffix are included than strictly\r\n * required; both in order to be robust against slight modifications, and in an\r\n * attempt to not end halfway a word (mainly for the sake of human readability).\r\n *\r\n * @example\r\n * ```\r\n * const target = window.getSelection().getRangeAt(0);\r\n * const selector = await describeTextQuote(target);\r\n * console.log(selector);\r\n * // {\r\n * //   type: 'TextQuoteSelector',\r\n * //   exact: 'ipsum',\r\n * //   prefix: 'Lorem ',\r\n * //   suffix: ' dolor'\r\n * // }\r\n * ```\r\n *\r\n * @param range - The {@link https://developer.mozilla.org/en-US/docs/Web/API/Range\r\n * | Range} whose text content will be described\r\n * @param scope - A Node or Range that serves as the ‘document’ for purposes of\r\n * finding occurrences and determining prefix and suffix. Defaults to the full\r\n * Document that contains `range`.\r\n * @param options - Options to fine-tune the function’s behaviour.\r\n * @returns The selector unambiguously describing `range` within `scope`.\r\n *\r\n * @public\r\n */\n\nasync function describeTextQuote(range, scope, options = {}) {\n  const scopeAsRange = Object(_to_range_ts__WEBPACK_IMPORTED_MODULE_3__[\"toRange\"])(scope !== null && scope !== void 0 ? scope : Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_1__[\"ownerDocument\"])(range));\n  const chunker = new _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_2__[\"TextNodeChunker\"](scopeAsRange);\n  return await Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextQuote\"])(chunker.rangeToChunkRange(range), () => new _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_2__[\"TextNodeChunker\"](scopeAsRange), options);\n}\n\n//# sourceURL=webpack:///../packages/dom/src/text-quote/describe.ts?");

/***/ }),

/***/ "../packages/dom/src/text-quote/index.ts":
/*!***********************************************!*\
  !*** ../packages/dom/src/text-quote/index.ts ***!
  \***********************************************/
/*! exports provided: describeTextQuote, createTextQuoteSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _describe_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./describe.ts */ \"../packages/dom/src/text-quote/describe.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextQuote\", function() { return _describe_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextQuote\"]; });\n\n/* harmony import */ var _match_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./match.ts */ \"../packages/dom/src/text-quote/match.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createTextQuoteSelectorMatcher\", function() { return _match_ts__WEBPACK_IMPORTED_MODULE_1__[\"createTextQuoteSelectorMatcher\"]; });\n\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n//# sourceURL=webpack:///../packages/dom/src/text-quote/index.ts?");

/***/ }),

/***/ "../packages/dom/src/text-quote/match.ts":
/*!***********************************************!*\
  !*** ../packages/dom/src/text-quote/match.ts ***!
  \***********************************************/
/*! exports provided: createTextQuoteSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTextQuoteSelectorMatcher\", function() { return createTextQuoteSelectorMatcher; });\n/* harmony import */ var C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packages/selector/src/index.ts */ \"../packages/selector/src/index.ts\");\n/* harmony import */ var _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text-node-chunker.ts */ \"../packages/dom/src/text-node-chunker.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Find occurrences in a text matching the given {@link\r\n * TextQuoteSelector}.\r\n *\r\n * This performs an exact search for the selector’s quote (including prefix and\r\n * suffix) within the text contained in the given scope (a  {@link\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Range | Range}).\r\n *\r\n * Note the match is based on strict character-by-character equivalence, i.e.\r\n * it is sensitive to whitespace, capitalisation, etc.\r\n *\r\n * The function is curried, taking first the selector and then the scope.\r\n *\r\n * As there may be multiple matches for a given selector (when its prefix and\r\n * suffix attributes are not sufficient to disambiguate it), the matcher will\r\n * return an (async) generator that produces each match in the order they are\r\n * found in the text.\r\n *\r\n * *XXX Modifying the DOM (e.g. to highlight the text) while the search is still\r\n * running can mess up and result in an error or an infinite loop. See [issue\r\n * #112](https://github.com/apache/incubator-annotator/issues/112).*\r\n *\r\n * @example\r\n * ```\r\n * // Find the word ‘banana’.\r\n * const selector = { type: 'TextQuoteSelector', exact: 'banana' };\r\n * const scope = document.body;\r\n *\r\n * // Read all matches.\r\n * const matches = textQuoteSelectorMatcher(selector)(scope);\r\n * for await (match of matches) console.log(match);\r\n * // ⇒ Range { startContainer: #text, startOffset: 187, endContainer: #text,\r\n * //   endOffset: 193, … }\r\n * // ⇒ Range { startContainer: #text, startOffset: 631, endContainer: #text,\r\n * //   endOffset: 637, … }\r\n * ```\r\n *\r\n * @param selector - The {@link TextQuoteSelector} to be anchored.\r\n * @returns A {@link Matcher} function that applies `selector` within a given\r\n * `scope`.\r\n *\r\n * @public\r\n */\n\nfunction createTextQuoteSelectorMatcher(selector) {\n  const abstractMatcher = Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"textQuoteSelectorMatcher\"])(selector);\n  return async function* matchAll(scope) {\n    let textChunks;\n\n    try {\n      textChunks = new _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_1__[\"TextNodeChunker\"](scope);\n    } catch (err) {\n      // An empty range contains no matches.\n      if (err instanceof _text_node_chunker_ts__WEBPACK_IMPORTED_MODULE_1__[\"EmptyScopeError\"]) return;else throw err;\n    }\n\n    for await (const abstractMatch of abstractMatcher(textChunks)) {\n      yield textChunks.chunkRangeToRange(abstractMatch);\n    }\n  };\n}\n\n//# sourceURL=webpack:///../packages/dom/src/text-quote/match.ts?");

/***/ }),

/***/ "../packages/dom/src/to-range.ts":
/*!***************************************!*\
  !*** ../packages/dom/src/to-range.ts ***!
  \***************************************/
/*! exports provided: toRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toRange\", function() { return toRange; });\n/* harmony import */ var _owner_document_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./owner-document.ts */ \"../packages/dom/src/owner-document.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/**\r\n * Returns a range that exactly selects the contents of the given node.\r\n *\r\n * This function is idempotent: If the given argument is already a range, it\r\n * simply returns that range.\r\n *\r\n * @param nodeOrRange The node/range to convert to a range if it is not already\r\n * a range.\r\n */\n\nfunction toRange(nodeOrRange) {\n  if (isRange(nodeOrRange)) {\n    return nodeOrRange;\n  } else {\n    const node = nodeOrRange;\n    const range = Object(_owner_document_ts__WEBPACK_IMPORTED_MODULE_0__[\"ownerDocument\"])(node).createRange();\n    range.selectNodeContents(node);\n    return range;\n  }\n}\n\nfunction isRange(nodeOrRange) {\n  return 'startContainer' in nodeOrRange;\n}\n\n//# sourceURL=webpack:///../packages/dom/src/to-range.ts?");

/***/ }),

/***/ "../packages/selector/src/index.ts":
/*!*****************************************!*\
  !*** ../packages/selector/src/index.ts ***!
  \*****************************************/
/*! exports provided: describeTextQuote, textQuoteSelectorMatcher, describeTextPosition, textPositionSelectorMatcher, chunkEquals, chunkRangeEquals, makeRefinable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeRefinable\", function() { return makeRefinable; });\n/* harmony import */ var _text_index_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text/index.ts */ \"../packages/selector/src/text/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextQuote\", function() { return _text_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextQuote\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"textQuoteSelectorMatcher\", function() { return _text_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"textQuoteSelectorMatcher\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextPosition\", function() { return _text_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextPosition\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"textPositionSelectorMatcher\", function() { return _text_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"textPositionSelectorMatcher\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"chunkEquals\", function() { return _text_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"chunkEquals\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"chunkRangeEquals\", function() { return _text_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"chunkRangeEquals\"]; });\n\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/**\r\n * Wrap a matcher creation function so that it supports refinement of selection.\r\n *\r\n * See {@link https://www.w3.org/TR/2017/REC-annotation-model-20170223/#refinement-of-selection\r\n * | §4.2.9 Refinement of Selection} in the Web Annotation Data Model.\r\n *\r\n * @param matcherCreator - The function to wrap; it will be executed both for\r\n * {@link Selector}s passed to the returned wrapper function, and for any\r\n * refining Selector those might contain (and any refinement of that, etc.).\r\n *\r\n * @public\r\n */\n\nfunction makeRefinable(matcherCreator) {\n  return function createMatcherWithRefinement(sourceSelector) {\n    const matcher = matcherCreator(sourceSelector);\n\n    if (sourceSelector.refinedBy) {\n      const refiningSelector = createMatcherWithRefinement(sourceSelector.refinedBy);\n      return async function* matchAll(scope) {\n        for await (const match of matcher(scope)) {\n          yield* refiningSelector(match);\n        }\n      };\n    }\n\n    return matcher;\n  };\n}\n\n//# sourceURL=webpack:///../packages/selector/src/index.ts?");

/***/ }),

/***/ "../packages/selector/src/text/chunker.ts":
/*!************************************************!*\
  !*** ../packages/selector/src/text/chunker.ts ***!
  \************************************************/
/*! exports provided: chunkEquals, chunkRangeEquals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkEquals\", function() { return chunkEquals; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkRangeEquals\", function() { return chunkRangeEquals; });\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/**\r\n * Represents a piece of text in any kind of ‘file’.\r\n *\r\n * Its purpose is to enable generic algorithms to deal with text content of any\r\n * type of ‘file’ that consists of many pieces of text (e.g. a DOM, PDF, …).\r\n * Each Chunk represents one piece of text ({@link Chunk.data}). An object\r\n * implementing this interface would typically have other attributes as well to\r\n * map the chunk back to its position in the file (e.g. a Text node in the DOM).\r\n *\r\n * @typeParam TData - Piece of text, typically `string`\r\n *\r\n * @public\r\n */\n\n/**\r\n * Test two {@link Chunk}s for equality.\r\n *\r\n * Equality here means that both represent the same piece of text (i.e. at the\r\n * same position) in the file. It compares using the custom {@link Chunk.equals}\r\n * method if either chunk defines one, and falls back to checking the objects’\r\n * identity (i.e. `chunk1 === chunk2`).\r\n *\r\n * @public\r\n */\nfunction chunkEquals(chunk1, chunk2) {\n  if (chunk1.equals) return chunk1.equals(chunk2);\n  if (chunk2.equals) return chunk2.equals(chunk1);\n  return chunk1 === chunk2;\n}\n/**\r\n * Points at a range of characters between two points inside {@link Chunk}s.\r\n *\r\n * Analogous to the DOM’s ({@link https://developer.mozilla.org/en-US/docs/Web/API/AbstractRange\r\n * | Abstract}){@link https://developer.mozilla.org/en-US/docs/Web/API/Range |\r\n * Range}. Each index expresses an offset inside the value of the corresponding\r\n * {@link Chunk.data}, and can equal the length of that data in order to point\r\n * to the position right after the chunk’s last character.\r\n *\r\n * @public\r\n */\n\n/**\r\n * Test two {@link ChunkRange}s for equality.\r\n *\r\n * Equality here means equality of each of their four properties (i.e.\r\n * {@link startChunk}, {@link startIndex},\r\n * {@link endChunk}, and {@link endIndex}).\r\n * For the `startChunk`s and `endChunk`s, this function uses the custom\r\n * {@link Chunk.equals} method if defined.\r\n *\r\n * Note that if the start/end of one range points at the end of a chunk, and the\r\n * other to the start of a subsequent chunk, they are not considered equal, even\r\n * though semantically they may be representing the same range of characters. To\r\n * test for such semantic equivalence, ensure that both inputs are normalised:\r\n * typically this means the range is shrunk to its narrowest equivalent, and (if\r\n * it is empty) positioned at its first equivalent.\r\n *\r\n * @public\r\n */\nfunction chunkRangeEquals(range1, range2) {\n  return chunkEquals(range1.startChunk, range2.startChunk) && chunkEquals(range1.endChunk, range2.endChunk) && range1.startIndex === range2.startIndex && range1.endIndex === range2.endIndex;\n}\n/**\r\n * Presents the pieces of text contained in some underlying ‘file’ as a sequence\r\n * of {@link Chunk}s.\r\n *\r\n * Rather than presenting a list of all pieces, the `Chunker` provides methods\r\n * to walk through the file piece by piece. This permits implementations to read\r\n * and convert the file to `Chunk`s lazily.\r\n *\r\n * For those familiar with the DOM APIs, it is similar to a NodeIterator (but\r\n * unlike NodeIterator, it has no concept of being ‘before’ or ‘after’ a chunk).\r\n *\r\n * @typeParam TChunk - (sub)type of `Chunk` being used.\r\n *\r\n * @public\r\n */\n\n//# sourceURL=webpack:///../packages/selector/src/text/chunker.ts?");

/***/ }),

/***/ "../packages/selector/src/text/code-point-seeker.ts":
/*!**********************************************************!*\
  !*** ../packages/selector/src/text/code-point-seeker.ts ***!
  \**********************************************************/
/*! exports provided: CodePointSeeker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CodePointSeeker\", function() { return CodePointSeeker; });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Seeks through text counting Unicode *code points* instead of *code units*.\r\n *\r\n * Javascript characters correspond to 16 bits *code units*, hence two such\r\n * ‘characters’ might together constitute a single Unicode character (i.e. a\r\n * *code point*). The {@link CodePointSeeker} allows to ignore this\r\n * variable-length encoding, by counting code points instead.\r\n *\r\n * It is made to wrap a {@link Seeker} that counts code units (presumably a\r\n * {@link TextSeeker}), which must be passed to its {@link constructor}.\r\n *\r\n * When reading from the `CodePointSeeker`, the returned values is not a string\r\n * but an array of strings, each containing one code point (thus each having a\r\n * `length` that is either 1 or 2).\r\n *\r\n * @public\r\n */\nclass CodePointSeeker {\n  /**\r\n   *\r\n   * @param raw  The {@link Seeker} to wrap, which counts in code *units* (e.g.\r\n   * a {@link TextSeeker}). It should have {@link Seeker.position | position}\r\n   * `0` and its methods must no longer be used directly if the\r\n   * `CodePointSeeker`’s position is to remain correct.\r\n   */\n  constructor(raw) {\n    this.raw = raw;\n\n    _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"position\", 0);\n  }\n\n  seekBy(length) {\n    this.seekTo(this.position + length);\n  }\n\n  seekTo(target) {\n    this._readOrSeekTo(false, target);\n  }\n\n  read(length, roundUp) {\n    return this.readTo(this.position + length, roundUp);\n  }\n\n  readTo(target, roundUp) {\n    return this._readOrSeekTo(true, target, roundUp);\n  }\n\n  get currentChunk() {\n    return this.raw.currentChunk;\n  }\n\n  get offsetInChunk() {\n    return this.raw.offsetInChunk;\n  }\n\n  seekToChunk(target, offset = 0) {\n    this._readOrSeekToChunk(false, target, offset);\n  }\n\n  readToChunk(target, offset = 0) {\n    return this._readOrSeekToChunk(true, target, offset);\n  }\n\n  _readOrSeekToChunk(read, target, offset = 0) {\n    const oldRawPosition = this.raw.position;\n    let s = this.raw.readToChunk(target, offset);\n    const movedForward = this.raw.position >= oldRawPosition;\n\n    if (movedForward && endsWithinCharacter(s)) {\n      this.raw.seekBy(-1);\n      s = s.slice(0, -1);\n    } else if (!movedForward && startsWithinCharacter(s)) {\n      this.raw.seekBy(1);\n      s = s.slice(1);\n    }\n\n    const result = [...s];\n    this.position = movedForward ? this.position + result.length : this.position - result.length;\n    if (read) return result;\n  }\n\n  _readOrSeekTo(read, target, roundUp = false) {\n    let result = [];\n\n    if (this.position < target) {\n      let unpairedSurrogate = '';\n      let characters = [];\n\n      while (this.position < target) {\n        let s = unpairedSurrogate + this.raw.read(1, true);\n\n        if (endsWithinCharacter(s)) {\n          unpairedSurrogate = s.slice(-1); // consider this half-character part of the next string.\n\n          s = s.slice(0, -1);\n        } else {\n          unpairedSurrogate = '';\n        }\n\n        characters = [...s];\n        this.position += characters.length;\n        if (read) result = result.concat(characters);\n      }\n\n      if (unpairedSurrogate) this.raw.seekBy(-1); // align with the last complete character.\n\n      if (!roundUp && this.position > target) {\n        const overshootInCodePoints = this.position - target;\n        const overshootInCodeUnits = characters.slice(-overshootInCodePoints).join('').length;\n        this.position -= overshootInCodePoints;\n        this.raw.seekBy(-overshootInCodeUnits);\n      }\n    } else {\n      // Nearly equal to the if-block, but moving backward in the text.\n      let unpairedSurrogate = '';\n      let characters = [];\n\n      while (this.position > target) {\n        let s = this.raw.read(-1, true) + unpairedSurrogate;\n\n        if (startsWithinCharacter(s)) {\n          unpairedSurrogate = s[0];\n          s = s.slice(1);\n        } else {\n          unpairedSurrogate = '';\n        }\n\n        characters = [...s];\n        this.position -= characters.length;\n        if (read) result = characters.concat(result);\n      }\n\n      if (unpairedSurrogate) this.raw.seekBy(1);\n\n      if (!roundUp && this.position < target) {\n        const overshootInCodePoints = target - this.position;\n        const overshootInCodeUnits = characters.slice(0, overshootInCodePoints).join('').length;\n        this.position += overshootInCodePoints;\n        this.raw.seekBy(overshootInCodeUnits);\n      }\n    }\n\n    if (read) return result;\n  }\n\n}\n\nfunction endsWithinCharacter(s) {\n  const codeUnit = s.charCodeAt(s.length - 1);\n  return 0xd800 <= codeUnit && codeUnit <= 0xdbff;\n}\n\nfunction startsWithinCharacter(s) {\n  const codeUnit = s.charCodeAt(0);\n  return 0xdc00 <= codeUnit && codeUnit <= 0xdfff;\n}\n\n//# sourceURL=webpack:///../packages/selector/src/text/code-point-seeker.ts?");

/***/ }),

/***/ "../packages/selector/src/text/describe-text-position.ts":
/*!***************************************************************!*\
  !*** ../packages/selector/src/text/describe-text-position.ts ***!
  \***************************************************************/
/*! exports provided: describeTextPosition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"describeTextPosition\", function() { return describeTextPosition; });\n/* harmony import */ var _code_point_seeker_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./code-point-seeker.ts */ \"../packages/selector/src/text/code-point-seeker.ts\");\n/* harmony import */ var _seeker_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./seeker.ts */ \"../packages/selector/src/text/seeker.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Returns a {@link TextPositionSelector} that points at the target text within\r\n * the given scope.\r\n *\r\n * This is an abstract implementation of the function’s logic, which expects a\r\n * generic {@link Chunker} to represent the text, and a {@link ChunkRange} to\r\n * represent the target.\r\n *\r\n * See {@link dom.describeTextPosition} for a wrapper around\r\n * this implementation which applies it to the text of an HTML DOM.\r\n *\r\n * @param target - The range of characters that the selector should describe\r\n * @param scope - The text, presented as a {@link Chunker}, which contains the\r\n * target range, and relative to which its position will be measured\r\n * @returns The {@link TextPositionSelector} that describes `target` relative\r\n * to `scope`\r\n *\r\n * @public\r\n */\n\nasync function describeTextPosition(target, scope) {\n  const codeUnitSeeker = new _seeker_ts__WEBPACK_IMPORTED_MODULE_1__[\"TextSeeker\"](scope);\n  const codePointSeeker = new _code_point_seeker_ts__WEBPACK_IMPORTED_MODULE_0__[\"CodePointSeeker\"](codeUnitSeeker);\n  codePointSeeker.seekToChunk(target.startChunk, target.startIndex);\n  const start = codePointSeeker.position;\n  codePointSeeker.seekToChunk(target.endChunk, target.endIndex);\n  const end = codePointSeeker.position;\n  return {\n    type: 'TextPositionSelector',\n    start,\n    end\n  };\n}\n\n//# sourceURL=webpack:///../packages/selector/src/text/describe-text-position.ts?");

/***/ }),

/***/ "../packages/selector/src/text/describe-text-quote.ts":
/*!************************************************************!*\
  !*** ../packages/selector/src/text/describe-text-quote.ts ***!
  \************************************************************/
/*! exports provided: describeTextQuote */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"describeTextQuote\", function() { return describeTextQuote; });\n/* harmony import */ var _chunker_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunker.ts */ \"../packages/selector/src/text/chunker.ts\");\n/* harmony import */ var _match_text_quote_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./match-text-quote.ts */ \"../packages/selector/src/text/match-text-quote.ts\");\n/* harmony import */ var _seeker_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./seeker.ts */ \"../packages/selector/src/text/seeker.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n/**\r\n * @public\r\n */\n\n/**\r\n * Returns a {@link TextQuoteSelector} that points at the target quote in the\r\n * given text.\r\n *\r\n * The selector will contain the exact target quote. In case this quote appears\r\n * multiple times in the text, sufficient context around the quote will be\r\n * included in the selector’s `prefix` and `suffix` attributes to disambiguate.\r\n * By default, more prefix and suffix are included than strictly required; both\r\n * in order to be robust against slight modifications, and in an attempt to not\r\n * end halfway a word (mainly for human readability).\r\n *\r\n * This is an abstract implementation of the function’s logic, which expects a\r\n * generic {@link Chunker} to represent the text, and a {@link ChunkRange} to\r\n * represent the target.\r\n *\r\n * See {@link dom.describeTextQuote} for a wrapper around this\r\n * implementation which applies it to the text of an HTML DOM.\r\n *\r\n * @param target - The range of characters that the selector should describe\r\n * @param scope - The text containing the target range; or, more accurately, a\r\n * function that produces {@link Chunker}s corresponding to this text.\r\n * @param options - Options to fine-tune the function’s behaviour.\r\n * @returns The {@link TextQuoteSelector} that describes `target`.\r\n *\r\n * @public\r\n */\nasync function describeTextQuote(target, scope, options = {}) {\n  const {\n    minimalContext = false,\n    minimumQuoteLength = 0,\n    maxWordLength = 50\n  } = options; // Create a seeker to read the target quote and the context around it.\n  // TODO Possible optimisation: as it need not be an AbsoluteSeeker, a\n  // different implementation could provide direct ‘jump’ access in seekToChunk\n  // (the scope’s Chunker would of course also have to support this).\n\n  const seekerAtTarget = new _seeker_ts__WEBPACK_IMPORTED_MODULE_2__[\"TextSeeker\"](scope()); // Create a second seeker so that we will be able to simultaneously read\n  // characters near both the target and an unintended match, if we find any.\n\n  const seekerAtUnintendedMatch = new _seeker_ts__WEBPACK_IMPORTED_MODULE_2__[\"TextSeeker\"](scope()); // Read the target’s exact text.\n\n  seekerAtTarget.seekToChunk(target.startChunk, target.startIndex);\n  const exact = seekerAtTarget.readToChunk(target.endChunk, target.endIndex); // Start with an empty prefix and suffix.\n\n  let prefix = '';\n  let suffix = ''; // If the quote is below the given minimum length, add some prefix & suffix.\n\n  const currentQuoteLength = () => prefix.length + exact.length + suffix.length;\n\n  if (currentQuoteLength() < minimumQuoteLength) {\n    // Expand the prefix, but only to reach halfway towards the desired length.\n    seekerAtTarget.seekToChunk(target.startChunk, target.startIndex - prefix.length);\n    const length = Math.floor((minimumQuoteLength - currentQuoteLength()) / 2);\n    prefix = seekerAtTarget.read(-length, false, true) + prefix; // If needed, expand the suffix to achieve the minimum length.\n\n    if (currentQuoteLength() < minimumQuoteLength) {\n      seekerAtTarget.seekToChunk(target.endChunk, target.endIndex + suffix.length);\n      const length = minimumQuoteLength - currentQuoteLength();\n      suffix = suffix + seekerAtTarget.read(length, false, true); // We might have to expand the prefix again (if at the end of the scope).\n\n      if (currentQuoteLength() < minimumQuoteLength) {\n        seekerAtTarget.seekToChunk(target.startChunk, target.startIndex - prefix.length);\n        const length = minimumQuoteLength - currentQuoteLength();\n        prefix = seekerAtTarget.read(-length, false, true) + prefix;\n      }\n    }\n  } // Expand prefix & suffix to avoid them ending somewhere halfway in a word.\n\n\n  if (!minimalContext) {\n    seekerAtTarget.seekToChunk(target.startChunk, target.startIndex - prefix.length);\n    prefix = readUntilWhitespace(seekerAtTarget, maxWordLength, true) + prefix;\n    seekerAtTarget.seekToChunk(target.endChunk, target.endIndex + suffix.length);\n    suffix = suffix + readUntilWhitespace(seekerAtTarget, maxWordLength, false);\n  } // Search for matches of the quote using the current prefix and suffix. At\n  // each unintended match we encounter, we extend the prefix or suffix to\n  // ensure it will no longer match.\n\n\n  while (true) {\n    const tentativeSelector = {\n      type: 'TextQuoteSelector',\n      exact,\n      prefix,\n      suffix\n    };\n    const matches = Object(_match_text_quote_ts__WEBPACK_IMPORTED_MODULE_1__[\"textQuoteSelectorMatcher\"])(tentativeSelector)(scope());\n    let nextMatch = await matches.next(); // If this match is the intended one, no need to act.\n    // XXX This test is fragile: nextMatch and target are assumed to be normalised.\n\n    if (!nextMatch.done && Object(_chunker_ts__WEBPACK_IMPORTED_MODULE_0__[\"chunkRangeEquals\"])(nextMatch.value, target)) {\n      nextMatch = await matches.next();\n    } // If there are no more unintended matches, our selector is unambiguous!\n\n\n    if (nextMatch.done) return tentativeSelector; // Possible optimisation: A subsequent search could safely skip the part we\n    // already processed, instead of starting from the beginning again. But we’d\n    // need the matcher to start at the seeker’s position, instead of searching\n    // in the whole current chunk. Then we could just seek back to just after\n    // the start of the prefix: seeker.seekBy(-prefix.length + 1); (don’t forget\n    // to also correct for any changes in the prefix we will make below)\n    // We’ll have to add more prefix/suffix to disqualify this unintended match.\n\n    const unintendedMatch = nextMatch.value; // Count how many characters we’d need as a prefix to disqualify this match.\n\n    seekerAtTarget.seekToChunk(target.startChunk, target.startIndex - prefix.length);\n    seekerAtUnintendedMatch.seekToChunk(unintendedMatch.startChunk, unintendedMatch.startIndex - prefix.length);\n    let extraPrefix = readUntilDifferent(seekerAtTarget, seekerAtUnintendedMatch, true);\n    if (extraPrefix !== undefined && !minimalContext) extraPrefix = readUntilWhitespace(seekerAtTarget, maxWordLength, true) + extraPrefix; // Count how many characters we’d need as a suffix to disqualify this match.\n\n    seekerAtTarget.seekToChunk(target.endChunk, target.endIndex + suffix.length);\n    seekerAtUnintendedMatch.seekToChunk(unintendedMatch.endChunk, unintendedMatch.endIndex + suffix.length);\n    let extraSuffix = readUntilDifferent(seekerAtTarget, seekerAtUnintendedMatch, false);\n    if (extraSuffix !== undefined && !minimalContext) extraSuffix = extraSuffix + readUntilWhitespace(seekerAtTarget, maxWordLength, false);\n\n    if (minimalContext) {\n      // Use either the prefix or suffix, whichever is shortest.\n      if (extraPrefix !== undefined && (extraSuffix === undefined || extraPrefix.length <= extraSuffix.length)) {\n        prefix = extraPrefix + prefix;\n      } else if (extraSuffix !== undefined) {\n        suffix = suffix + extraSuffix;\n      } else {\n        throw new Error('Target cannot be disambiguated; how could that have happened‽');\n      }\n    } else {\n      // For redundancy, expand both prefix and suffix.\n      if (extraPrefix !== undefined) prefix = extraPrefix + prefix;\n      if (extraSuffix !== undefined) suffix = suffix + extraSuffix;\n    }\n  }\n}\n\nfunction readUntilDifferent(seeker1, seeker2, reverse) {\n  let result = '';\n\n  while (true) {\n    let nextCharacter;\n\n    try {\n      nextCharacter = seeker1.read(reverse ? -1 : 1);\n    } catch (err) {\n      return undefined; // Start/end of text reached: cannot expand result.\n    }\n\n    result = reverse ? nextCharacter + result : result + nextCharacter; // Check if the newly added character makes the result differ from the second seeker.\n\n    let comparisonCharacter;\n\n    try {\n      comparisonCharacter = seeker2.read(reverse ? -1 : 1);\n    } catch (err) {\n      // A RangeError would merely mean seeker2 is exhausted.\n      if (!(err instanceof RangeError)) throw err;\n    }\n\n    if (nextCharacter !== comparisonCharacter) return result;\n  }\n}\n\nfunction readUntilWhitespace(seeker, limit = Infinity, reverse = false) {\n  let result = '';\n\n  while (result.length < limit) {\n    let nextCharacter;\n\n    try {\n      nextCharacter = seeker.read(reverse ? -1 : 1);\n    } catch (err) {\n      if (!(err instanceof RangeError)) throw err;\n      break; // End/start of text reached.\n    } // Stop if we reached whitespace.\n\n\n    if (isWhitespace(nextCharacter)) {\n      seeker.seekBy(reverse ? 1 : -1); // ‘undo’ the last read.\n\n      break;\n    }\n\n    result = reverse ? nextCharacter + result : result + nextCharacter;\n  }\n\n  return result;\n}\n\nfunction isWhitespace(s) {\n  return /^\\s+$/.test(s);\n}\n\n//# sourceURL=webpack:///../packages/selector/src/text/describe-text-quote.ts?");

/***/ }),

/***/ "../packages/selector/src/text/index.ts":
/*!**********************************************!*\
  !*** ../packages/selector/src/text/index.ts ***!
  \**********************************************/
/*! exports provided: describeTextQuote, textQuoteSelectorMatcher, describeTextPosition, textPositionSelectorMatcher, chunkEquals, chunkRangeEquals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _describe_text_quote_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./describe-text-quote.ts */ \"../packages/selector/src/text/describe-text-quote.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextQuote\", function() { return _describe_text_quote_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextQuote\"]; });\n\n/* harmony import */ var _match_text_quote_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./match-text-quote.ts */ \"../packages/selector/src/text/match-text-quote.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"textQuoteSelectorMatcher\", function() { return _match_text_quote_ts__WEBPACK_IMPORTED_MODULE_1__[\"textQuoteSelectorMatcher\"]; });\n\n/* harmony import */ var _describe_text_position_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./describe-text-position.ts */ \"../packages/selector/src/text/describe-text-position.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"describeTextPosition\", function() { return _describe_text_position_ts__WEBPACK_IMPORTED_MODULE_2__[\"describeTextPosition\"]; });\n\n/* harmony import */ var _match_text_position_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./match-text-position.ts */ \"../packages/selector/src/text/match-text-position.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"textPositionSelectorMatcher\", function() { return _match_text_position_ts__WEBPACK_IMPORTED_MODULE_3__[\"textPositionSelectorMatcher\"]; });\n\n/* harmony import */ var _chunker_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunker.ts */ \"../packages/selector/src/text/chunker.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"chunkEquals\", function() { return _chunker_ts__WEBPACK_IMPORTED_MODULE_4__[\"chunkEquals\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"chunkRangeEquals\", function() { return _chunker_ts__WEBPACK_IMPORTED_MODULE_4__[\"chunkRangeEquals\"]; });\n\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n\n\n\n\n//# sourceURL=webpack:///../packages/selector/src/text/index.ts?");

/***/ }),

/***/ "../packages/selector/src/text/match-text-position.ts":
/*!************************************************************!*\
  !*** ../packages/selector/src/text/match-text-position.ts ***!
  \************************************************************/
/*! exports provided: textPositionSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"textPositionSelectorMatcher\", function() { return textPositionSelectorMatcher; });\n/* harmony import */ var _code_point_seeker_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./code-point-seeker.ts */ \"../packages/selector/src/text/code-point-seeker.ts\");\n/* harmony import */ var _seeker_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./seeker.ts */ \"../packages/selector/src/text/seeker.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\n/**\r\n * Find the range of text corresponding to the given {@link TextPositionSelector}.\r\n *\r\n * This is an abstract implementation of the function’s logic, which expects a\r\n * generic {@link Chunker} to represent the text, and returns an (async)\r\n * generator producing a single {@link ChunkRange} to represent the match.\r\n * (unlike e.g. TextQuoteSelector, it cannot result in multiple matches).\r\n *\r\n * See {@link dom.createTextPositionSelectorMatcher} for a\r\n * wrapper around this implementation which applies it to the text of an HTML\r\n * DOM.\r\n *\r\n * The function is curried, taking first the selector and then the text.\r\n *\r\n * @example\r\n * ```\r\n * const selector = { type: 'TextPositionSelector', start: 702, end: 736 };\r\n * const matches = textPositionSelectorMatcher(selector)(textChunks);\r\n * const match = (await matches.next()).value;\r\n * console.log(match);\r\n * // ⇒ { startChunk: { … }, startIndex: 64, endChunk: { … }, endIndex: 98 }\r\n * ```\r\n *\r\n * @param selector - the {@link TextPositionSelector} to be anchored\r\n * @returns a {@link Matcher} function that applies `selector` to a given text\r\n *\r\n * @public\r\n */\n\nfunction textPositionSelectorMatcher(selector) {\n  const {\n    start,\n    end\n  } = selector;\n  return async function* matchAll(textChunks) {\n    const codeUnitSeeker = new _seeker_ts__WEBPACK_IMPORTED_MODULE_1__[\"TextSeeker\"](textChunks);\n    const codePointSeeker = new _code_point_seeker_ts__WEBPACK_IMPORTED_MODULE_0__[\"CodePointSeeker\"](codeUnitSeeker);\n    codePointSeeker.seekTo(start);\n    const startChunk = codeUnitSeeker.currentChunk;\n    const startIndex = codeUnitSeeker.offsetInChunk;\n    codePointSeeker.seekTo(end);\n    const endChunk = codeUnitSeeker.currentChunk;\n    const endIndex = codeUnitSeeker.offsetInChunk;\n    yield {\n      startChunk,\n      startIndex,\n      endChunk,\n      endIndex\n    };\n  };\n}\n\n//# sourceURL=webpack:///../packages/selector/src/text/match-text-position.ts?");

/***/ }),

/***/ "../packages/selector/src/text/match-text-quote.ts":
/*!*********************************************************!*\
  !*** ../packages/selector/src/text/match-text-quote.ts ***!
  \*********************************************************/
/*! exports provided: textQuoteSelectorMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"textQuoteSelectorMatcher\", function() { return textQuoteSelectorMatcher; });\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/**\r\n * Find occurrences in a text matching the given {@link TextQuoteSelector}.\r\n *\r\n * This performs an exact search the selector’s quote (including prefix and\r\n * suffix) within the given text.\r\n *\r\n * Note the match is based on strict character-by-character equivalence, i.e.\r\n * it is sensitive to whitespace, capitalisation, etc.\r\n *\r\n * This is an abstract implementation of the function’s logic, which expects a\r\n * generic {@link Chunker} to represent the text, and returns an (async)\r\n * generator of {@link ChunkRange}s to represent the matches.\r\n *\r\n * See {@link dom.createTextQuoteSelectorMatcher} for a\r\n * wrapper around this implementation which applies it to the text of an HTML\r\n * DOM.\r\n *\r\n * The function is curried, taking first the selector and then the text.\r\n *\r\n * As there may be multiple matches for a given selector (when its prefix and\r\n * suffix attributes are not sufficient to disambiguate it), the matcher will\r\n * return an (async) generator that produces each match in the order they are\r\n * found in the text.\r\n *\r\n * *XXX Modifying the Chunks while the search is still running can mess up and\r\n * result in an error or an infinite loop. See [issue #112](https://github.com/apache/incubator-annotator/issues/112).*\r\n *\r\n * @example\r\n * ```\r\n * const selector = { type: 'TextQuoteSelector', exact: 'banana' };\r\n * const matches = textQuoteSelectorMatcher(selector)(textChunks);\r\n * for await (match of matches) console.log(match);\r\n * // ⇒ { startChunk: { … }, startIndex: 187, endChunk: { … }, endIndex: 193 }\r\n * // ⇒ { startChunk: { … }, startIndex: 631, endChunk: { … }, endIndex: 637 }\r\n * ```\r\n *\r\n * @param selector - The {@link TextQuoteSelector} to be anchored\r\n * @returns a {@link Matcher} function that applies `selector` to a given text\r\n *\r\n * @public\r\n */\nfunction textQuoteSelectorMatcher(selector) {\n  return async function* matchAll(textChunks) {\n    const exact = selector.exact;\n    const prefix = selector.prefix || '';\n    const suffix = selector.suffix || '';\n    const searchPattern = prefix + exact + suffix; // The code below essentially just performs string.indexOf(searchPattern),\n    // but on a string that is chopped up in multiple chunks. It runs a loop\n    // containing three steps:\n    // 1. Continue checking any partial matches from the previous chunk(s).\n    // 2. Try find the whole pattern in the chunk (possibly multiple times).\n    // 3. Check if this chunk ends with a partial match (or even multiple partial matches).\n\n    let partialMatches = [];\n    let isFirstChunk = true;\n\n    do {\n      const chunk = textChunks.currentChunk;\n      const chunkValue = chunk.data; // 1. Continue checking any partial matches from the previous chunk(s).\n\n      const remainingPartialMatches = [];\n\n      for (const partialMatch of partialMatches) {\n        const charactersMatched = partialMatch.charactersMatched; // If the current chunk contains the start and/or end of the match, record these.\n\n        if (partialMatch.endChunk === undefined) {\n          const charactersUntilMatchEnd = prefix.length + exact.length - charactersMatched;\n\n          if (charactersUntilMatchEnd <= chunkValue.length) {\n            partialMatch.endChunk = chunk;\n            partialMatch.endIndex = charactersUntilMatchEnd;\n          }\n        }\n\n        if (partialMatch.startChunk === undefined) {\n          const charactersUntilMatchStart = prefix.length - charactersMatched;\n\n          if (charactersUntilMatchStart < chunkValue.length || partialMatch.endChunk !== undefined // handles an edge case: an empty quote at the end of a chunk.\n          ) {\n              partialMatch.startChunk = chunk;\n              partialMatch.startIndex = charactersUntilMatchStart;\n            }\n        }\n\n        const charactersUntilSuffixEnd = searchPattern.length - charactersMatched;\n\n        if (charactersUntilSuffixEnd <= chunkValue.length) {\n          if (chunkValue.startsWith(searchPattern.substring(charactersMatched))) {\n            yield partialMatch; // all fields are certainly defined now.\n          }\n        } else if (chunkValue === searchPattern.substring(charactersMatched, charactersMatched + chunkValue.length)) {\n          // The chunk is too short to complete the match; comparison has to be completed in subsequent chunks.\n          partialMatch.charactersMatched += chunkValue.length;\n          remainingPartialMatches.push(partialMatch);\n        }\n      }\n\n      partialMatches = remainingPartialMatches; // 2. Try find the whole pattern in the chunk (possibly multiple times).\n\n      if (searchPattern.length <= chunkValue.length) {\n        let fromIndex = 0;\n\n        while (fromIndex <= chunkValue.length) {\n          const patternStartIndex = chunkValue.indexOf(searchPattern, fromIndex);\n          if (patternStartIndex === -1) break;\n          fromIndex = patternStartIndex + 1; // Handle edge case: an empty searchPattern would already have been yielded at the end of the last chunk.\n\n          if (patternStartIndex === 0 && searchPattern.length === 0 && !isFirstChunk) continue;\n          yield {\n            startChunk: chunk,\n            startIndex: patternStartIndex + prefix.length,\n            endChunk: chunk,\n            endIndex: patternStartIndex + prefix.length + exact.length\n          };\n        }\n      } // 3. Check if this chunk ends with a partial match (or even multiple partial matches).\n\n\n      let newPartialMatches = [];\n      const searchStartPoint = Math.max(chunkValue.length - searchPattern.length + 1, 0);\n\n      for (let i = searchStartPoint; i < chunkValue.length; i++) {\n        const character = chunkValue[i];\n        newPartialMatches = newPartialMatches.filter(partialMatchStartIndex => character === searchPattern[i - partialMatchStartIndex]);\n        if (character === searchPattern[0]) newPartialMatches.push(i);\n      }\n\n      for (const partialMatchStartIndex of newPartialMatches) {\n        const charactersMatched = chunkValue.length - partialMatchStartIndex;\n        const partialMatch = {\n          charactersMatched\n        };\n\n        if (charactersMatched >= prefix.length + exact.length) {\n          partialMatch.endChunk = chunk;\n          partialMatch.endIndex = partialMatchStartIndex + prefix.length + exact.length;\n        }\n\n        if (charactersMatched > prefix.length || partialMatch.endChunk !== undefined // handles an edge case: an empty quote at the end of a chunk.\n        ) {\n            partialMatch.startChunk = chunk;\n            partialMatch.startIndex = partialMatchStartIndex + prefix.length;\n          }\n\n        partialMatches.push(partialMatch);\n      }\n\n      isFirstChunk = false;\n    } while (textChunks.nextChunk() !== null);\n  };\n}\n\n//# sourceURL=webpack:///../packages/selector/src/text/match-text-quote.ts?");

/***/ }),

/***/ "../packages/selector/src/text/seeker.ts":
/*!***********************************************!*\
  !*** ../packages/selector/src/text/seeker.ts ***!
  \***********************************************/
/*! exports provided: TextSeeker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextSeeker\", function() { return TextSeeker; });\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/helpers/defineProperty */ \"../node_modules/@babel/runtime-corejs3/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chunker_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunker.ts */ \"../packages/selector/src/text/chunker.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n\nconst E_END = 'Iterator exhausted before seek ended.';\n/**\r\n * Abstraction to seek (jump) or read to a position inside a ‘file’ consisting of a\r\n * sequence of data chunks.\r\n *\r\n * This interface is a combination of three interfaces in one: for seeking to a\r\n * relative position, an absolute position, or a specific chunk. These three are\r\n * defined separately for clarity and flexibility, but normally used together.\r\n *\r\n * A Seeker internally maintains a pointer to the chunk it is currently ‘in’ and\r\n * the offset position within that chunk.\r\n *\r\n * @typeParam TChunk - Type of chunks the file consists of.\r\n * @typeParam TData - Type of data this seeker’s read methods will return (not\r\n * necessarily the same as the `TData` parameter of {@link Chunk}, see e.g.\r\n * {@link CodePointSeeker})\r\n *\r\n * @public\r\n */\n\n/**\r\n * A TextSeeker is constructed around a {@link Chunker}, to let it be treated as\r\n * a continuous sequence of characters.\r\n *\r\n * Seeking to a given numeric position will cause a `TextSeeker` to pull chunks\r\n * from the underlying `Chunker`, counting their lengths until the requested\r\n * position is reached. `Chunks` are not stored but simply read again when\r\n * seeking backwards.\r\n *\r\n * The `Chunker` is presumed to read an unchanging file. If a chunk’s length\r\n * would change while seeking, a TextSeeker’s absolute positioning would be\r\n * incorrect.\r\n *\r\n * See {@link CodePointSeeker} for a {@link Seeker} that counts Unicode *code\r\n * points* instead of Javascript’s ‘normal’ characters.\r\n *\r\n * @public\r\n */\nclass TextSeeker {\n  // The chunk containing our current text position.\n  get currentChunk() {\n    return this.chunker.currentChunk;\n  } // The index of the first character of the current chunk inside the text.\n\n\n  // The current text position (measured in code units)\n  get position() {\n    return this.currentChunkPosition + this.offsetInChunk;\n  }\n\n  constructor(chunker) {\n    this.chunker = chunker;\n\n    _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"currentChunkPosition\", 0);\n\n    _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"offsetInChunk\", 0);\n\n    // Walk to the start of the first non-empty chunk inside the scope.\n    this.seekTo(0);\n  }\n\n  read(length, roundUp = false, lessIsFine = false) {\n    return this._readOrSeekTo(true, this.position + length, roundUp, lessIsFine);\n  }\n\n  readTo(target, roundUp = false) {\n    return this._readOrSeekTo(true, target, roundUp);\n  }\n\n  seekBy(length) {\n    this.seekTo(this.position + length);\n  }\n\n  seekTo(target) {\n    this._readOrSeekTo(false, target);\n  }\n\n  seekToChunk(target, offset = 0) {\n    this._readOrSeekToChunk(false, target, offset);\n  }\n\n  readToChunk(target, offset = 0) {\n    return this._readOrSeekToChunk(true, target, offset);\n  }\n\n  _readOrSeekToChunk(read, target, offset = 0) {\n    const oldPosition = this.position;\n    let result = ''; // Walk to the requested chunk.\n\n    if (!this.chunker.precedesCurrentChunk(target)) {\n      // Search forwards.\n      while (!Object(_chunker_ts__WEBPACK_IMPORTED_MODULE_1__[\"chunkEquals\"])(this.currentChunk, target)) {\n        const [data, nextChunk] = this._readToNextChunk();\n\n        if (read) result += data;\n        if (nextChunk === null) throw new RangeError(E_END);\n      }\n    } else {\n      // Search backwards.\n      while (!Object(_chunker_ts__WEBPACK_IMPORTED_MODULE_1__[\"chunkEquals\"])(this.currentChunk, target)) {\n        const [data, previousChunk] = this._readToPreviousChunk();\n\n        if (read) result = data + result;\n        if (previousChunk === null) throw new RangeError(E_END);\n      }\n    } // Now we know where the chunk is, walk to the requested offset.\n    // Note we might have started inside the chunk, and the offset could even\n    // point at a position before or after the chunk.\n\n\n    const targetPosition = this.currentChunkPosition + offset;\n\n    if (!read) {\n      this.seekTo(targetPosition);\n    } else {\n      if (targetPosition >= this.position) {\n        // Read further until the target.\n        result += this.readTo(targetPosition);\n      } else if (targetPosition >= oldPosition) {\n        // We passed by our target position: step back.\n        this.seekTo(targetPosition);\n        result = result.slice(0, targetPosition - oldPosition);\n      } else {\n        // The target precedes our starting position: read backwards from there.\n        this.seekTo(oldPosition);\n        result = this.readTo(targetPosition);\n      }\n\n      return result;\n    }\n  }\n\n  _readOrSeekTo(read, target, roundUp = false, lessIsFine = false) {\n    let result = '';\n\n    if (this.position <= target) {\n      while (true) {\n        const endOfChunk = this.currentChunkPosition + this.currentChunk.data.length;\n\n        if (endOfChunk <= target) {\n          // The target is beyond the current chunk.\n          // (we use ≤ not <: if the target is *at* the end of the chunk, possibly\n          // because the current chunk is empty, we prefer to take the next chunk)\n          const [data, nextChunk] = this._readToNextChunk();\n\n          if (read) result += data;\n\n          if (nextChunk === null) {\n            if (this.position === target || lessIsFine) break;else throw new RangeError(E_END);\n          }\n        } else {\n          // The target is within the current chunk.\n          const newOffset = roundUp ? this.currentChunk.data.length : target - this.currentChunkPosition;\n          if (read) result += this.currentChunk.data.substring(this.offsetInChunk, newOffset);\n          this.offsetInChunk = newOffset; // If we finish end at the end of the chunk, seek to the start of the next non-empty node.\n          // (TODO decide: should we keep this guarantee of not finishing at the end of a chunk?)\n\n          if (roundUp) this.seekBy(0);\n          break;\n        }\n      }\n    } else {\n      // Similar to the if-block, but moving backward in the text.\n      while (this.position > target) {\n        if (this.currentChunkPosition <= target) {\n          // The target is within the current chunk.\n          const newOffset = roundUp ? 0 : target - this.currentChunkPosition;\n          if (read) result = this.currentChunk.data.substring(newOffset, this.offsetInChunk) + result;\n          this.offsetInChunk = newOffset;\n          break;\n        } else {\n          const [data, previousChunk] = this._readToPreviousChunk();\n\n          if (read) result = data + result;\n\n          if (previousChunk === null) {\n            if (lessIsFine) break;else throw new RangeError(E_END);\n          }\n        }\n      }\n    }\n\n    if (read) return result;\n  } // Read to the start of the next chunk, if any; otherwise to the end of the current chunk.\n\n\n  _readToNextChunk() {\n    const data = this.currentChunk.data.substring(this.offsetInChunk);\n    const chunkLength = this.currentChunk.data.length;\n    const nextChunk = this.chunker.nextChunk();\n\n    if (nextChunk !== null) {\n      this.currentChunkPosition += chunkLength;\n      this.offsetInChunk = 0;\n    } else {\n      this.offsetInChunk = chunkLength;\n    }\n\n    return [data, nextChunk];\n  } // Read backwards to the end of the previous chunk, if any; otherwise to the start of the current chunk.\n\n\n  _readToPreviousChunk() {\n    const data = this.currentChunk.data.substring(0, this.offsetInChunk);\n    const previousChunk = this.chunker.previousChunk();\n\n    if (previousChunk !== null) {\n      this.currentChunkPosition -= this.currentChunk.data.length;\n      this.offsetInChunk = this.currentChunk.data.length;\n    } else {\n      this.offsetInChunk = 0;\n    }\n\n    return [data, previousChunk];\n  }\n\n}\n\n//# sourceURL=webpack:///../packages/selector/src/text/seeker.ts?");

/***/ }),

/***/ "./index.html":
/*!********************!*\
  !*** ./index.html ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"index.html\");\n\n//# sourceURL=webpack:///./index.html?");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packages/dom/src/index.ts */ \"../packages/dom/src/index.ts\");\n/* harmony import */ var C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../packages/selector/src/index.ts */ \"../packages/selector/src/index.ts\");\n/**\r\n * @license\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n *\r\n * SPDX-FileCopyrightText: The Apache Software Foundation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\n\n/* global info, module, source, target, form */\n\n\nconst EXAMPLE_SELECTORS = [{\n  type: 'TextQuoteSelector',\n  exact: 'not'\n}, {\n  type: 'RangeSelector',\n  startSelector: {\n    type: 'TextQuoteSelector',\n    exact: 'ann'\n  },\n  endSelector: {\n    type: 'TextQuoteSelector',\n    exact: '!'\n  }\n}, {\n  type: 'TextQuoteSelector',\n  exact: 'annotated world',\n  refinedBy: {\n    type: 'TextQuoteSelector',\n    exact: 'tat'\n  }\n}, {\n  type: 'TextQuoteSelector',\n  exact: 'To annotate, or not to annotate,',\n  refinedBy: {\n    type: 'RangeSelector',\n    startSelector: {\n      type: 'TextQuoteSelector',\n      exact: 'To annotate',\n      refinedBy: {\n        type: 'TextQuoteSelector',\n        exact: 'annotate'\n      }\n    },\n    endSelector: {\n      type: 'TextQuoteSelector',\n      exact: 'not to annotate',\n      refinedBy: {\n        type: 'TextQuoteSelector',\n        exact: ' to'\n      }\n    },\n    refinedBy: {\n      type: 'TextQuoteSelector',\n      exact: 'o'\n    }\n  }\n}];\nlet moduleState = {\n  cleanupFunctions: []\n};\n\nfunction cleanup() {\n  let removeHighlight;\n\n  while (removeHighlight = moduleState.cleanupFunctions.shift()) {\n    removeHighlight();\n  }\n\n  target.normalize();\n  info.innerText = '';\n}\n\nconst createMatcher = Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_selector_src_index_ts__WEBPACK_IMPORTED_MODULE_1__[\"makeRefinable\"])(selector => {\n  const innerCreateMatcher = {\n    TextQuoteSelector: C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"createTextQuoteSelectorMatcher\"],\n    TextPositionSelector: C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"createTextPositionSelectorMatcher\"],\n    RangeSelector: Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"makeCreateRangeSelectorMatcher\"])(createMatcher)\n  }[selector.type];\n\n  if (!innerCreateMatcher) {\n    throw new Error(`Unsupported selector type: ${selector.type}`);\n  }\n\n  return innerCreateMatcher(selector);\n});\n\nasync function anchor(selector) {\n  const matchAll = createMatcher(selector);\n  const ranges = []; // First collect all matches, and only then highlight them; to avoid\n  // modifying the DOM while the matcher is running.\n\n  for await (const range of matchAll(target)) {\n    ranges.push(range);\n  }\n\n  for (const range of ranges) {\n    const removeHighlight = Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"highlightText\"])(range);\n    moduleState.cleanupFunctions.push(removeHighlight);\n  }\n\n  info.innerText += JSON.stringify(selector, null, 2) + '\\n\\n';\n}\n\nasync function onSelectionChange() {\n  cleanup();\n  const describeMode = form.describeMode.value;\n  const selection = document.getSelection();\n\n  for (let i = 0; i < selection.rangeCount; i++) {\n    const range = selection.getRangeAt(i);\n    const selector = describeMode === 'TextPosition' ? await Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextPosition\"])(range, source) : await Object(C_Users_bigbl_dev_apache_incubator_annotator_website_annotator_packages_dom_src_index_ts__WEBPACK_IMPORTED_MODULE_0__[\"describeTextQuote\"])(range, source, {\n      minimumQuoteLength: 10\n    });\n    await anchor(selector);\n  }\n}\n\nfunction onSelectorExampleClick(event) {\n  const exampleNumber = event.target.dataset.runExample;\n  if (!exampleNumber) return;\n  const selector = EXAMPLE_SELECTORS[exampleNumber];\n  cleanup();\n  anchor(selector);\n  event.preventDefault();\n}\n\nfunction addEventListeners() {\n  document.addEventListener('selectionchange', onSelectionChange);\n  form.addEventListener('change', onSelectionChange);\n  document.addEventListener('click', onSelectorExampleClick);\n}\n\naddEventListeners();\n\nfunction removeEventListeners() {\n  document.removeEventListener('selectionchange', onSelectionChange);\n  form.removeEventListener('change', onSelectionChange);\n  document.removeEventListener('click', onSelectorExampleClick);\n}\n\nif (false) { var _module$hot$data; }\n\n//# sourceURL=webpack:///./index.js?");

/***/ }),

/***/ "./style.css":
/*!*******************!*\
  !*** ./style.css ***!
  \*******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"style.css\");\n\n//# sourceURL=webpack:///./style.css?");

/***/ }),

/***/ 0:
/*!*************************************************!*\
  !*** multi ./index.html ./index.js ./style.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ./index.html */\"./index.html\");\n__webpack_require__(/*! ./index.js */\"./index.js\");\nmodule.exports = __webpack_require__(/*! ./style.css */\"./style.css\");\n\n\n//# sourceURL=webpack:///multi_./index.html_./index.js_./style.css?");

/***/ })

/******/ });